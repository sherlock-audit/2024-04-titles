<!DOCTYPE HTML>
<html lang="en" class="light" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title></title>
        <meta name="robots" content="noindex">


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="book.css">

    </head>
    <body class="sidebar-visible no-js">
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('light')
            html.classList.add(theme);
            var body = document.querySelector('body');
            body.classList.remove('no-js')
            body.classList.add('js');
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var body = document.querySelector('body');
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            body.classList.remove('sidebar-visible');
            body.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item "><a href="index.html">Home</a></li><li class="chapter-item affix "><li class="part-title">src</li><li class="chapter-item "><a href="src/editions/index.html">❱ editions</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/editions/Edition.sol/contract.Edition.html">Edition</a></li></ol></li><li class="chapter-item "><a href="src/fees/index.html">❱ fees</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/fees/FeeManager.sol/contract.FeeManager.html">FeeManager</a></li></ol></li><li class="chapter-item "><a href="src/graph/index.html">❱ graph</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/graph/TitlesGraph.sol/contract.TitlesGraph.html">TitlesGraph</a></li></ol></li><li class="chapter-item "><a href="src/interfaces/index.html">❱ interfaces</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/interfaces/IEdgeManager.sol/interface.IEdgeManager.html">IEdgeManager</a></li><li class="chapter-item "><a href="src/interfaces/IEdition.sol/interface.IEdition.html">IEdition</a></li><li class="chapter-item "><a href="src/interfaces/IOpenGraph.sol/interface.IOpenGraph.html">IOpenGraph</a></li></ol></li><li class="chapter-item "><a href="src/shared/index.html">❱ shared</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="src/shared/Common.sol/error.MaxSupplyReached.html">MaxSupplyReached</a></li><li class="chapter-item "><a href="src/shared/Common.sol/error.NotOpen.html">NotOpen</a></li><li class="chapter-item "><a href="src/shared/Common.sol/error.NotImplemented.html">NotImplemented</a></li><li class="chapter-item "><a href="src/shared/Common.sol/error.Unauthorized.html">Unauthorized</a></li><li class="chapter-item "><a href="src/shared/Common.sol/event.EditionCreated.html">EditionCreated</a></li><li class="chapter-item "><a href="src/shared/Common.sol/event.Comment.html">Comment</a></li><li class="chapter-item "><a href="src/shared/Common.sol/event.FeeStrategyUpdated.html">FeeStrategyUpdated</a></li><li class="chapter-item "><a href="src/shared/Common.sol/event.TimeframeUpdated.html">TimeframeUpdated</a></li><li class="chapter-item "><a href="src/shared/Common.sol/event.Minted.html">Minted</a></li><li class="chapter-item "><a href="src/shared/Common.sol/event.Published.html">Published</a></li><li class="chapter-item "><a href="src/shared/Common.sol/event.WorkTransferred.html">WorkTransferred</a></li><li class="chapter-item "><a href="src/shared/Common.sol/enum.NodeType.html">NodeType</a></li><li class="chapter-item "><a href="src/shared/Common.sol/struct.Fee.html">Fee</a></li><li class="chapter-item "><a href="src/shared/Common.sol/struct.Edge.html">Edge</a></li><li class="chapter-item "><a href="src/shared/Common.sol/struct.Node.html">Node</a></li><li class="chapter-item "><a href="src/shared/Common.sol/struct.Metadata.html">Metadata</a></li><li class="chapter-item "><a href="src/shared/Common.sol/struct.Route.html">Route</a></li><li class="chapter-item "><a href="src/shared/Common.sol/struct.Strategy.html">Strategy</a></li><li class="chapter-item "><a href="src/shared/Common.sol/struct.Target.html">Target</a></li><li class="chapter-item "><a href="src/shared/Common.sol/constants.Common.html">Common constants</a></li></ol></li><li class="chapter-item "><a href="src/TitlesCore.sol/contract.TitlesCore.html">TitlesCore</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title"></h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/titlesnyc/wallflower-contract-v2" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="titles-protocol-v2"><a class="header" href="#titles-protocol-v2">TITLES Protocol v2</a></h1>
<p><a href="https://titles.xyz"><strong>TITLES</strong></a> is an AI-powered creative tool for remixing, creating, and publishing referential cryptomedia. NFTs published through TITLES can sample other NFTs, maintaining attribution and splitting proceeds with sampled NFTs’ creators.</p>
<h2 id="protocol-overview"><a class="header" href="#protocol-overview">Protocol Overview</a></h2>
<p>The TITLES protocol consists of:</p>
<ul>
<li><strong>TitlesCore</strong> is the core protocol entrypoint which manages the creation and distribution of TITLES Editions.</li>
<li><strong>TitlesGraph</strong> is an on-chain graph that represents the relationships between TITLES Editions and the individual works that have been sampled by or otherwise contributed to a given Edition. It is the first reference implementation for the upcoming OpenGraph Standard.</li>
<li><strong>FeeManager</strong>: The module responsible for calculating and collecting fees throughout the TITLES protocol, then routing them to their respective targets. It is powered by the Splits protocol, which provides a simple mechanism for distributing assets to multiple recipients.</li>
<li><strong>Editions</strong> are ERC1155 contracts in which each token ID represents an individual work that has been published through the TITLES protocol. Editions can be created by anyone, and can include any number of works. Edition creators can also enable others to contribute works to their Editions, allowing for collaborative creation and curation. There are no assumptions about the nature of the works that can be included in an Edition, which opens up a wide range of creative possibilities.</li>
</ul>
<p>Each work (i.e. unique token ID) in an <strong>Edition</strong> is associated with a <strong>Node</strong> within the TITLES Graph. Through this graph, the relationships between works can be visualized and navigated, allowing users to explore the provenance of a given work and the various works that have contributed to its creation. The OpenGraph Standard aims to provide a generalized framework for identifying referential relationships between works, enabling a new class of creative tools and experiences.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents"><a class="header" href="#contents">Contents</a></h1>
<ul>
<li><a href="src/editions/Edition.sol/contract.Edition.html">Edition</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="edition"><a class="header" href="#edition">Edition</a></h1>
<p><a href="https://github.com/titlesnyc/wallflower-contract-v2/blob/190d4e66726023743d2d6974c49be143469e59b9/src/editions/Edition.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/editions/Edition.sol//src/interfaces/IEdition.sol/interface.IEdition.html">IEdition</a>, ERC1155, ERC2981, Initializable, OwnableRoles</p>
<p>An ERC1155 contract representing a collection of related works. Each work is represented by a token ID.</p>
<h2 id="state-variables"><a class="header" href="#state-variables">State Variables</a></h2>
<h3 id="totalworks"><a class="header" href="#totalworks">totalWorks</a></h3>
<p>The total number of works in the Edition. Also the ID of the latest work.</p>
<pre><code class="language-solidity">uint256 public totalWorks;
</code></pre>
<h3 id="works"><a class="header" href="#works">works</a></h3>
<p>The collection of works in the Edition.</p>
<pre><code class="language-solidity">mapping(uint256 =&gt; Work) public works;
</code></pre>
<h3 id="_metadata"><a class="header" href="#_metadata">_metadata</a></h3>
<p>The metadata for the Edition and its works.</p>
<p><em>The Edition key is 0, while the work keys are the token IDs.</em></p>
<pre><code class="language-solidity">mapping(uint256 =&gt; Metadata) public _metadata;
</code></pre>
<h3 id="fee_manager"><a class="header" href="#fee_manager">FEE_MANAGER</a></h3>
<p>The fee manager contract.</p>
<pre><code class="language-solidity">FeeManager public FEE_MANAGER;
</code></pre>
<h3 id="graph"><a class="header" href="#graph">GRAPH</a></h3>
<p>The TitlesGraph contract.</p>
<pre><code class="language-solidity">TitlesGraph public GRAPH;
</code></pre>
<h2 id="functions"><a class="header" href="#functions">Functions</a></h2>
<h3 id="initialize"><a class="header" href="#initialize">initialize</a></h3>
<p>Initialize the Edition contract.</p>
<p><em>This function is called by the {EditionFactory} when creating a new Edition to set the fee manager and owner.</em></p>
<p><em>The controller is granted the {EDITION_MANAGER_ROLE} to allow management of the Edition contract.</em></p>
<pre><code class="language-solidity">function initialize(
    FeeManager feeManager_,
    TitlesGraph graph_,
    address owner_,
    address controller_,
    Metadata calldata metadata_
) external initializer;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>feeManager_</code></td><td><code>FeeManager</code></td><td>The fee manager contract.</td></tr>
<tr><td><code>graph_</code></td><td><code>TitlesGraph</code></td><td>The TitlesGraph contract.</td></tr>
<tr><td><code>owner_</code></td><td><code>address</code></td><td>The owner of the Edition contract.</td></tr>
<tr><td><code>controller_</code></td><td><code>address</code></td><td>The controller of the Edition contract.</td></tr>
<tr><td><code>metadata_</code></td><td><code>Metadata</code></td><td></td></tr>
</tbody></table>
</div>
<h3 id="publish"><a class="header" href="#publish">publish</a></h3>
<p>Create a new work in the Edition.</p>
<pre><code class="language-solidity">function publish(
    address creator_,
    uint256 maxSupply_,
    uint64 opensAt_,
    uint64 closesAt_,
    Node[] calldata attributions_,
    Strategy calldata strategy_,
    Metadata calldata metadata_
) external override onlyRoles(EDITION_MANAGER_ROLE) returns (uint256 tokenId);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>creator_</code></td><td><code>address</code></td><td>The creator of the work.</td></tr>
<tr><td><code>maxSupply_</code></td><td><code>uint256</code></td><td>The maximum number of mintable tokens for the work.</td></tr>
<tr><td><code>opensAt_</code></td><td><code>uint64</code></td><td>The timestamp after which the work is mintable.</td></tr>
<tr><td><code>closesAt_</code></td><td><code>uint64</code></td><td>The timestamp after which the work is no longer mintable.</td></tr>
<tr><td><code>attributions_</code></td><td><code>Node[]</code></td><td>The attributions for the work.</td></tr>
<tr><td><code>strategy_</code></td><td><code>Strategy</code></td><td>The fee strategy for the work.</td></tr>
<tr><td><code>metadata_</code></td><td><code>Metadata</code></td><td>The metadata for the work.</td></tr>
</tbody></table>
</div>
<h3 id="name"><a class="header" href="#name">name</a></h3>
<p>Get the name of the Edition.</p>
<pre><code class="language-solidity">function name() public view override returns (string memory);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>string</code></td><td>The name of the Edition.</td></tr>
</tbody></table>
</div>
<h3 id="name-1"><a class="header" href="#name-1">name</a></h3>
<p>Get the name for a given Work.</p>
<pre><code class="language-solidity">function name(uint256 tokenId) public view returns (string memory);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>tokenId</code></td><td><code>uint256</code></td><td>The ID of the work.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>string</code></td><td>The name of the work.</td></tr>
</tbody></table>
</div>
<h3 id="owner"><a class="header" href="#owner">owner</a></h3>
<p>Get the owner of the Edition.</p>
<p><em>The owner of the Edition contract has the right to manage roles.</em></p>
<pre><code class="language-solidity">function owner() public view override(IEdition, Ownable) returns (address);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>address</code></td><td>The owner of the Edition.</td></tr>
</tbody></table>
</div>
<h3 id="uri"><a class="header" href="#uri">uri</a></h3>
<pre><code class="language-solidity">function uri() public view returns (string memory);
</code></pre>
<h3 id="uri-1"><a class="header" href="#uri-1">uri</a></h3>
<p>Get the URI for the given token ID.</p>
<pre><code class="language-solidity">function uri(uint256 tokenId_)
    public
    view
    virtual
    override(IEdition, ERC1155)
    returns (string memory);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>tokenId_</code></td><td><code>uint256</code></td><td>The ID of the token.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>string</code></td><td>The URI for the token.</td></tr>
</tbody></table>
</div>
<h3 id="creator"><a class="header" href="#creator">creator</a></h3>
<p>Get the creator of the Edition. Alias for <a href="src/editions/Edition.sol//src/editions/Edition.sol/contract.Edition.html#owner">owner</a>.</p>
<pre><code class="language-solidity">function creator() public view override returns (address);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>address</code></td><td>The creator of the Edition.</td></tr>
</tbody></table>
</div>
<h3 id="creator-1"><a class="header" href="#creator-1">creator</a></h3>
<p>Get the creator of the given work.</p>
<pre><code class="language-solidity">function creator(uint256 tokenId) public view override returns (address);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>tokenId</code></td><td><code>uint256</code></td><td>The ID of the work.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>address</code></td><td>The creator of the work.</td></tr>
</tbody></table>
</div>
<h3 id="node"><a class="header" href="#node">node</a></h3>
<p>Get the {Node} for the collection.</p>
<pre><code class="language-solidity">function node() public view returns (Node memory);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>Node</code></td><td>The node for the edition.</td></tr>
</tbody></table>
</div>
<h3 id="node-1"><a class="header" href="#node-1">node</a></h3>
<p>Get the {Node} for the given work.</p>
<pre><code class="language-solidity">function node(uint256 tokenId) public view returns (Node memory);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>tokenId</code></td><td><code>uint256</code></td><td>The token ID of the work.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>Node</code></td><td>The node for the work.</td></tr>
</tbody></table>
</div>
<h3 id="mintfee"><a class="header" href="#mintfee">mintFee</a></h3>
<p>Get the mint fee for one token for the given work.</p>
<pre><code class="language-solidity">function mintFee(uint256 tokenId_) public view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>tokenId_</code></td><td><code>uint256</code></td><td>The ID of the work.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>The mint fee for the token.</td></tr>
</tbody></table>
</div>
<h3 id="mintfee-1"><a class="header" href="#mintfee-1">mintFee</a></h3>
<p>Get the mint fee for an <code>amount</code> of tokens for the given work.</p>
<pre><code class="language-solidity">function mintFee(uint256 tokenId_, uint256 amount_) public view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>tokenId_</code></td><td><code>uint256</code></td><td>The ID of the work.</td></tr>
<tr><td><code>amount_</code></td><td><code>uint256</code></td><td>The amount of tokens to mint.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>The mint fee for the tokens.</td></tr>
</tbody></table>
</div>
<h3 id="mint"><a class="header" href="#mint">mint</a></h3>
<p>Mint a new token for the given work.</p>
<pre><code class="language-solidity">function mint(
    address to_,
    uint256 tokenId_,
    uint256 amount_,
    address referrer_,
    bytes calldata data_
) external payable override;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>to_</code></td><td><code>address</code></td><td>The address to mint the token to.</td></tr>
<tr><td><code>tokenId_</code></td><td><code>uint256</code></td><td>The ID of the work to mint.</td></tr>
<tr><td><code>amount_</code></td><td><code>uint256</code></td><td>The amount of tokens to mint.</td></tr>
<tr><td><code>referrer_</code></td><td><code>address</code></td><td>The address of the referrer.</td></tr>
<tr><td><code>data_</code></td><td><code>bytes</code></td><td>The data associated with the mint. Reserved for future use.</td></tr>
</tbody></table>
</div>
<h3 id="mintwithcomment"><a class="header" href="#mintwithcomment">mintWithComment</a></h3>
<p>Mint a new token for the given work with a public comment.</p>
<p><em>This function is used to mint a token with a public comment, allowing the mint to be associated with a message which will be emitted as an event.</em></p>
<pre><code class="language-solidity">function mintWithComment(
    address to_,
    uint256 tokenId_,
    uint256 amount_,
    address referrer_,
    bytes calldata data_,
    string calldata comment_
) external payable;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>to_</code></td><td><code>address</code></td><td>The address to mint the token to.</td></tr>
<tr><td><code>tokenId_</code></td><td><code>uint256</code></td><td>The ID of the work to mint.</td></tr>
<tr><td><code>amount_</code></td><td><code>uint256</code></td><td>The amount of tokens to mint.</td></tr>
<tr><td><code>referrer_</code></td><td><code>address</code></td><td>The address of the referrer.</td></tr>
<tr><td><code>data_</code></td><td><code>bytes</code></td><td>The data associated with the mint. Reserved for future use.</td></tr>
<tr><td><code>comment_</code></td><td><code>string</code></td><td>The public comment associated with the mint. Emitted as an event.</td></tr>
</tbody></table>
</div>
<h3 id="mintbatch"><a class="header" href="#mintbatch">mintBatch</a></h3>
<p>Mint multiple tokens for the given works.</p>
<pre><code class="language-solidity">function mintBatch(
    address to_,
    uint256[] calldata tokenIds_,
    uint256[] calldata amounts_,
    bytes calldata data_
) external payable;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>to_</code></td><td><code>address</code></td><td>The address to mint the tokens to.</td></tr>
<tr><td><code>tokenIds_</code></td><td><code>uint256[]</code></td><td>The IDs of the works to mint.</td></tr>
<tr><td><code>amounts_</code></td><td><code>uint256[]</code></td><td>The amounts of each work to mint.</td></tr>
<tr><td><code>data_</code></td><td><code>bytes</code></td><td>The data associated with the mint. Reserved for future use.</td></tr>
</tbody></table>
</div>
<h3 id="mintbatch-1"><a class="header" href="#mintbatch-1">mintBatch</a></h3>
<p>Mint a token to a set of receivers for the given work.</p>
<pre><code class="language-solidity">function mintBatch(
    address[] calldata receivers_,
    uint256 tokenId_,
    uint256 amount_,
    bytes calldata data_
) external payable;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>receivers_</code></td><td><code>address[]</code></td><td>The addresses to mint the tokens to.</td></tr>
<tr><td><code>tokenId_</code></td><td><code>uint256</code></td><td>The ID of the work to mint.</td></tr>
<tr><td><code>amount_</code></td><td><code>uint256</code></td><td>The amount of tokens to mint.</td></tr>
<tr><td><code>data_</code></td><td><code>bytes</code></td><td>The data associated with the mint. Reserved for future use.</td></tr>
</tbody></table>
</div>
<h3 id="promomint"><a class="header" href="#promomint">promoMint</a></h3>
<p>Mint a token from the given work to a set of receivers.</p>
<p><em>This function is used to mint one token for each receiver of a given work, bypassing mint fees. It is intended for promotional purposes.</em></p>
<pre><code class="language-solidity">function promoMint(address[] calldata receivers_, uint256 tokenId_, bytes calldata data_)
    external
    onlyOwnerOrRoles(EDITION_MANAGER_ROLE | EDITION_MINTER_ROLE);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>receivers_</code></td><td><code>address[]</code></td><td>The addresses to mint the tokens to.</td></tr>
<tr><td><code>tokenId_</code></td><td><code>uint256</code></td><td>The ID of the work to mint.</td></tr>
<tr><td><code>data_</code></td><td><code>bytes</code></td><td>The data associated with the mint. Reserved for future use.</td></tr>
</tbody></table>
</div>
<h3 id="metadata"><a class="header" href="#metadata">metadata</a></h3>
<p>Get the metadata for the given ID.</p>
<pre><code class="language-solidity">function metadata(uint256 id_) external view returns (Metadata memory);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>id_</code></td><td><code>uint256</code></td><td>The ID of the work, or <code>0</code> for the Edition.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>Metadata</code></td><td>The metadata for the ID.</td></tr>
</tbody></table>
</div>
<h3 id="maxsupply"><a class="header" href="#maxsupply">maxSupply</a></h3>
<p>Get the maximum supply for the given work.</p>
<pre><code class="language-solidity">function maxSupply(uint256 tokenId_) external view override returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>tokenId_</code></td><td><code>uint256</code></td><td>The ID of the work.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>The maximum supply for the work.</td></tr>
</tbody></table>
</div>
<h3 id="totalsupply"><a class="header" href="#totalsupply">totalSupply</a></h3>
<p>Get the total supply for the given work.</p>
<pre><code class="language-solidity">function totalSupply(uint256 tokenId_) external view override returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>tokenId_</code></td><td><code>uint256</code></td><td>The ID of the work.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>The total supply for the work.</td></tr>
</tbody></table>
</div>
<h3 id="feestrategy"><a class="header" href="#feestrategy">feeStrategy</a></h3>
<p>Get the fee strategy for the given work.</p>
<pre><code class="language-solidity">function feeStrategy(uint256 tokenId_) external view override returns (Strategy memory);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>tokenId_</code></td><td><code>uint256</code></td><td>The ID of the work.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>Strategy</code></td><td>The fee strategy for the work.</td></tr>
</tbody></table>
</div>
<h3 id="setfeestrategy"><a class="header" href="#setfeestrategy">setFeeStrategy</a></h3>
<p>Set the fee strategy for the given work.</p>
<p><em>This function only updates the strategy locally and will NOT change the fee route.</em></p>
<pre><code class="language-solidity">function setFeeStrategy(uint256 tokenId_, Strategy calldata strategy_) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>tokenId_</code></td><td><code>uint256</code></td><td>The ID of the work.</td></tr>
<tr><td><code>strategy_</code></td><td><code>Strategy</code></td><td>The fee strategy for the work.</td></tr>
</tbody></table>
</div>
<h3 id="setmetadata"><a class="header" href="#setmetadata">setMetadata</a></h3>
<p>Set the metadata for a given ID.</p>
<pre><code class="language-solidity">function setMetadata(uint256 id_, Metadata calldata metadata_) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>id_</code></td><td><code>uint256</code></td><td>The ID of the work, or <code>0</code> for the Edition</td></tr>
<tr><td><code>metadata_</code></td><td><code>Metadata</code></td><td>The new metadata.</td></tr>
</tbody></table>
</div>
<h3 id="setroyaltytarget"><a class="header" href="#setroyaltytarget">setRoyaltyTarget</a></h3>
<p>Set the ERC2981 royalty target for the given work.</p>
<pre><code class="language-solidity">function setRoyaltyTarget(uint256 tokenId, address target)
    external
    onlyRoles(EDITION_MANAGER_ROLE);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>tokenId</code></td><td><code>uint256</code></td><td>The ID of the work.</td></tr>
<tr><td><code>target</code></td><td><code>address</code></td><td>The address to receive royalties.</td></tr>
</tbody></table>
</div>
<h3 id="settimeframe"><a class="header" href="#settimeframe">setTimeframe</a></h3>
<p>Sets the open and close times for the given work.</p>
<p><em>Only the creator of the work can call this function.</em></p>
<pre><code class="language-solidity">function setTimeframe(uint256 tokenId, uint64 opensAt, uint64 closesAt) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>tokenId</code></td><td><code>uint256</code></td><td>The ID of the work.</td></tr>
<tr><td><code>opensAt</code></td><td><code>uint64</code></td><td>The timestamp after which the work is mintable.</td></tr>
<tr><td><code>closesAt</code></td><td><code>uint64</code></td><td>The timestamp after which the work is no longer mintable.</td></tr>
</tbody></table>
</div>
<h3 id="transferwork"><a class="header" href="#transferwork">transferWork</a></h3>
<pre><code class="language-solidity">function transferWork(address to_, uint256 tokenId_) external;
</code></pre>
<h3 id="grantroles"><a class="header" href="#grantroles">grantRoles</a></h3>
<p><em>Allows the owner to grant <code>user</code> <code>roles</code>.
If the <code>user</code> already has a role, then it will be an no-op for the role.</em></p>
<pre><code class="language-solidity">function grantRoles(address user_, uint256 roles_)
    public
    payable
    override
    onlyRoles(EDITION_MANAGER_ROLE);
</code></pre>
<h3 id="revokeroles"><a class="header" href="#revokeroles">revokeRoles</a></h3>
<p><em>Allows the owner to remove <code>user</code> <code>roles</code>.
If the <code>user</code> does not have a role, then it will be an no-op for the role.</em></p>
<pre><code class="language-solidity">function revokeRoles(address user_, uint256 roles_)
    public
    payable
    override
    onlyRoles(EDITION_MANAGER_ROLE);
</code></pre>
<h3 id="grantpublisherrole"><a class="header" href="#grantpublisherrole">grantPublisherRole</a></h3>
<p>Grant the publisher role to the given address, allowing it to publish new works within the Edition.</p>
<p><em>This function is used by the owner or manager to grant the {EDITION_PUBLISHER_ROLE} to an address, allowing it to publish new works within the Edition.</em></p>
<pre><code class="language-solidity">function grantPublisherRole(address publisher_) external onlyRolesOrOwner(EDITION_MANAGER_ROLE);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>publisher_</code></td><td><code>address</code></td><td>The address to grant the role to.</td></tr>
</tbody></table>
</div>
<h3 id="revokepublisherrole"><a class="header" href="#revokepublisherrole">revokePublisherRole</a></h3>
<p>Revoke the publisher role from the given address, preventing it from publishing new works. Does not affect existing works.</p>
<p><em>This function is used by the owner or manager to revoke the {EDITION_PUBLISHER_ROLE} from an address, preventing it from publishing new works within the Edition.</em></p>
<pre><code class="language-solidity">function revokePublisherRole(address publisher_) external onlyRolesOrOwner(EDITION_MANAGER_ROLE);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>publisher_</code></td><td><code>address</code></td><td>The address to revoke the role from.</td></tr>
</tbody></table>
</div>
<h3 id="supportsinterface"><a class="header" href="#supportsinterface">supportsInterface</a></h3>
<p>Check if the contract supports the given interface.</p>
<pre><code class="language-solidity">function supportsInterface(bytes4 interfaceId)
    public
    view
    override(IEdition, ERC1155, ERC2981)
    returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>interfaceId</code></td><td><code>bytes4</code></td><td>The interface ID to check.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td>True if the contract supports the interface, false otherwise.</td></tr>
</tbody></table>
</div>
<h3 id="_issue"><a class="header" href="#_issue">_issue</a></h3>
<p>Issue tokens for the given work.</p>
<p><em>This function is used by the <a href="src/editions/Edition.sol//src/editions/Edition.sol/contract.Edition.html#mint">mint</a> and {mintBatch} functions to mint tokens and reverts if the new total supply would exceed the maximum supply.</em></p>
<pre><code class="language-solidity">function _issue(address to_, uint256 tokenId_, uint256 amount_, bytes calldata data_) internal;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>to_</code></td><td><code>address</code></td><td>The address to issue the tokens to.</td></tr>
<tr><td><code>tokenId_</code></td><td><code>uint256</code></td><td>The ID of the work to issue.</td></tr>
<tr><td><code>amount_</code></td><td><code>uint256</code></td><td>The amount of tokens to issue.</td></tr>
<tr><td><code>data_</code></td><td><code>bytes</code></td><td>The data associated with the issuance. Reserved for future use.</td></tr>
</tbody></table>
</div>
<h3 id="_updatesupply"><a class="header" href="#_updatesupply">_updateSupply</a></h3>
<p>Update the total supply for the given work.</p>
<p><em>This function increments the total supply for a given work and reverts if the new total exceeds the maximum supply.</em></p>
<pre><code class="language-solidity">function _updateSupply(Work storage work, uint256 amount_) internal;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>work</code></td><td><code>Work</code></td><td>The work to update.</td></tr>
<tr><td><code>amount_</code></td><td><code>uint256</code></td><td>The amount to add to the total supply.</td></tr>
</tbody></table>
</div>
<h3 id="_checktime"><a class="header" href="#_checktime">_checkTime</a></h3>
<p>Checks that the current block time falls within the given range.</p>
<p><em>This function is used to check that the current block time falls within the given range and reverts if not.</em></p>
<pre><code class="language-solidity">function _checkTime(uint64 start_, uint64 end_) internal view;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>start_</code></td><td><code>uint64</code></td><td>The timestamp after which the work is mintable.</td></tr>
<tr><td><code>end_</code></td><td><code>uint64</code></td><td>The timestamp after which the work is no longer mintable.</td></tr>
</tbody></table>
</div>
<h3 id="_refundexcess"><a class="header" href="#_refundexcess">_refundExcess</a></h3>
<p>Refund any excess ETH sent to the contract.</p>
<p><em>This function is called after minting tokens to refund any ETH left in the contract after all fees have been collected.</em></p>
<pre><code class="language-solidity">function _refundExcess() internal;
</code></pre>
<h2 id="structs"><a class="header" href="#structs">Structs</a></h2>
<h3 id="work"><a class="header" href="#work">Work</a></h3>
<p>An individual work within the Edition.</p>
<pre><code class="language-solidity">struct Work {
    address creator;
    uint256 maxSupply;
    uint256 totalSupply;
    uint64 opensAt;
    uint64 closesAt;
    Strategy strategy;
}
</code></pre>
<p><strong>Properties</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>creator</code></td><td><code>address</code></td><td>The creator of the work.</td></tr>
<tr><td><code>maxSupply</code></td><td><code>uint256</code></td><td>The maximum number of mintable tokens for the work.</td></tr>
<tr><td><code>totalSupply</code></td><td><code>uint256</code></td><td>The total number of minted tokens for the work.</td></tr>
<tr><td><code>opensAt</code></td><td><code>uint64</code></td><td>The timestamp after which the work is mintable.</td></tr>
<tr><td><code>closesAt</code></td><td><code>uint64</code></td><td>The timestamp after which the work is no longer mintable. If <code>0</code>, there is no closing time.</td></tr>
<tr><td><code>strategy</code></td><td><code>Strategy</code></td><td>The fee strategy for the work.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="contents-1"><a class="header" href="#contents-1">Contents</a></h1>
<ul>
<li><a href="src/fees/FeeManager.sol/contract.FeeManager.html">FeeManager</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="feemanager"><a class="header" href="#feemanager">FeeManager</a></h1>
<p><a href="https://github.com/titlesnyc/wallflower-contract-v2/blob/190d4e66726023743d2d6974c49be143469e59b9/src/fees/FeeManager.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
OwnableRoles</p>
<p>Manages fees for the Titles Protocol</p>
<p><em>The FeeManager contract is responsible for collecting fees associated with protocol actions.</em></p>
<h2 id="state-variables-1"><a class="header" href="#state-variables-1">State Variables</a></h2>
<h3 id="max_bps"><a class="header" href="#max_bps">MAX_BPS</a></h3>
<p><em>The maximum basis points (BPS) value. Equivalent to 100%.</em></p>
<pre><code class="language-solidity">uint16 public constant MAX_BPS = 10_000;
</code></pre>
<h3 id="max_protocol_fee_bps"><a class="header" href="#max_protocol_fee_bps">MAX_PROTOCOL_FEE_BPS</a></h3>
<p><em>The maximum protocol fee in basis points (BPS). Equivalent to 33.33%.</em></p>
<pre><code class="language-solidity">uint16 public constant MAX_PROTOCOL_FEE_BPS = 3333;
</code></pre>
<h3 id="max_protocol_fee"><a class="header" href="#max_protocol_fee">MAX_PROTOCOL_FEE</a></h3>
<p><em>The maximum protocol fee in wei. Applies to both flat and percentage fees.</em></p>
<pre><code class="language-solidity">uint64 public constant MAX_PROTOCOL_FEE = 0.1 ether;
</code></pre>
<h3 id="max_royalty_bps"><a class="header" href="#max_royalty_bps">MAX_ROYALTY_BPS</a></h3>
<p><em>The maximum royalty fee in basis points (BPS). Equivalent to 95%.</em></p>
<pre><code class="language-solidity">uint16 public constant MAX_ROYALTY_BPS = 9500;
</code></pre>
<h3 id="min_royalty_bps"><a class="header" href="#min_royalty_bps">MIN_ROYALTY_BPS</a></h3>
<p><em>The minimum royalty fee in basis points (BPS). Equivalent to 2.5%.</em></p>
<pre><code class="language-solidity">uint16 public constant MIN_ROYALTY_BPS = 250;
</code></pre>
<h3 id="protocolcreationfee"><a class="header" href="#protocolcreationfee">protocolCreationFee</a></h3>
<p>The protocol creation fee. This fee is collected when a new {Edition} is created.</p>
<pre><code class="language-solidity">uint128 public protocolCreationFee = 0.0001 ether;
</code></pre>
<h3 id="protocolflatfee"><a class="header" href="#protocolflatfee">protocolFlatFee</a></h3>
<p>The flat fee for the protocol. This fee is collected on all mint transactions.</p>
<pre><code class="language-solidity">uint128 public protocolFlatFee = 0.0006 ether;
</code></pre>
<h3 id="protocolfeesharebps"><a class="header" href="#protocolfeesharebps">protocolFeeshareBps</a></h3>
<p>The protocol fee share in basis points (BPS). Only applies to protocol fees collected for unpriced mints.</p>
<pre><code class="language-solidity">uint32 public protocolFeeshareBps = 3333;
</code></pre>
<h3 id="mintreferrerrevsharebps"><a class="header" href="#mintreferrerrevsharebps">mintReferrerRevshareBps</a></h3>
<p>The share of protocol fees to be distributed to the direct referrer of the mint, in basis points (BPS).</p>
<pre><code class="language-solidity">uint16 public mintReferrerRevshareBps = 5000;
</code></pre>
<h3 id="collectionreferrerrevsharebps"><a class="header" href="#collectionreferrerrevsharebps">collectionReferrerRevshareBps</a></h3>
<p>The share of protocol fees to be distributed to the referrer of the collection, in basis points (BPS).</p>
<pre><code class="language-solidity">uint16 public collectionReferrerRevshareBps = 2500;
</code></pre>
<h3 id="protocolfeereceiver"><a class="header" href="#protocolfeereceiver">protocolFeeReceiver</a></h3>
<p>The address of the protocol fee receiver.</p>
<pre><code class="language-solidity">address public protocolFeeReceiver;
</code></pre>
<h3 id="splitfactory"><a class="header" href="#splitfactory">splitFactory</a></h3>
<p>The {SplitFactoryV2} contract used to create fee splits.</p>
<pre><code class="language-solidity">SplitFactoryV2 public splitFactory;
</code></pre>
<h3 id="referrers"><a class="header" href="#referrers">referrers</a></h3>
<p>The mapping of referrers for each {Edition}'s creation.</p>
<pre><code class="language-solidity">mapping(IEdition edition =&gt; address referrer) public referrers;
</code></pre>
<h3 id="_feereceivers"><a class="header" href="#_feereceivers">_feeReceivers</a></h3>
<p>The mapping of fee receivers by ID.</p>
<pre><code class="language-solidity">mapping(bytes32 id =&gt; Target receiver) private _feeReceivers;
</code></pre>
<h2 id="functions-1"><a class="header" href="#functions-1">Functions</a></h2>
<h3 id="constructor"><a class="header" href="#constructor">constructor</a></h3>
<p>Initializes the <a href="src/fees/FeeManager.sol//src/fees/FeeManager.sol/contract.FeeManager.html#feemanager">FeeManager</a> contract.</p>
<pre><code class="language-solidity">constructor(address admin_, address protocolFeeReceiver_, address splitFactory_);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>admin_</code></td><td><code>address</code></td><td></td></tr>
<tr><td><code>protocolFeeReceiver_</code></td><td><code>address</code></td><td>The address of the protocol fee receiver.</td></tr>
<tr><td><code>splitFactory_</code></td><td><code>address</code></td><td>The address of the {SplitFactoryV2} contract.</td></tr>
</tbody></table>
</div>
<h3 id="createroute"><a class="header" href="#createroute">createRoute</a></h3>
<p>Creates a new fee route for the given {Edition} and attributions.</p>
<pre><code class="language-solidity">function createRoute(
    IEdition edition_,
    uint256 tokenId_,
    Target[] calldata attributions_,
    address referrer_
) external onlyOwnerOrRoles(ADMIN_ROLE) returns (Target memory receiver);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>edition_</code></td><td><code>IEdition</code></td><td>The {Edition} for which to create the route.</td></tr>
<tr><td><code>tokenId_</code></td><td><code>uint256</code></td><td>The token ID associated with the route.</td></tr>
<tr><td><code>attributions_</code></td><td><code>Target[]</code></td><td>The attributions to be associated with the route.</td></tr>
<tr><td><code>referrer_</code></td><td><code>address</code></td><td>The address of the referrer to receive a share of the fee.</td></tr>
</tbody></table>
</div>
<h3 id="collectcreationfee"><a class="header" href="#collectcreationfee">collectCreationFee</a></h3>
<p>Collects the creation fee for a given {Edition}.</p>
<pre><code class="language-solidity">function collectCreationFee(IEdition edition_, uint256 tokenId_, address feePayer_)
    external
    payable;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>edition_</code></td><td><code>IEdition</code></td><td>The {Edition} for which to collect the creation fee.</td></tr>
<tr><td><code>tokenId_</code></td><td><code>uint256</code></td><td>The token ID associated with the fee.</td></tr>
<tr><td><code>feePayer_</code></td><td><code>address</code></td><td>The address of the account paying the fee.</td></tr>
</tbody></table>
</div>
<h3 id="collectmintfee"><a class="header" href="#collectmintfee">collectMintFee</a></h3>
<p>Collects the mint fee for a given {Edition}.</p>
<pre><code class="language-solidity">function collectMintFee(
    IEdition edition_,
    uint256 tokenId_,
    uint256 amount_,
    address payer_,
    address referrer_
) external payable;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>edition_</code></td><td><code>IEdition</code></td><td>The {Edition} for which to collect the mint fee.</td></tr>
<tr><td><code>tokenId_</code></td><td><code>uint256</code></td><td>The token ID associated with the fee.</td></tr>
<tr><td><code>amount_</code></td><td><code>uint256</code></td><td>The amount of the fee to collect.</td></tr>
<tr><td><code>payer_</code></td><td><code>address</code></td><td>The address of the account paying the fee.</td></tr>
<tr><td><code>referrer_</code></td><td><code>address</code></td><td>The address of the referrer to receive a share of the fee.</td></tr>
</tbody></table>
</div>
<h3 id="collectmintfee-1"><a class="header" href="#collectmintfee-1">collectMintFee</a></h3>
<p>Collects the mint fee for a given {Edition} and token ID, routing it as appropriate.</p>
<pre><code class="language-solidity">function collectMintFee(
    IEdition edition,
    uint256 tokenId_,
    uint256 amount_,
    address payer_,
    address referrer_,
    Strategy calldata strategy_
) external payable;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>edition</code></td><td><code>IEdition</code></td><td>The {Edition} for which the fee is being collected.</td></tr>
<tr><td><code>tokenId_</code></td><td><code>uint256</code></td><td>The token ID associated with the fee.</td></tr>
<tr><td><code>amount_</code></td><td><code>uint256</code></td><td>The amount of the fee to collect.</td></tr>
<tr><td><code>payer_</code></td><td><code>address</code></td><td>The address of the account paying the fee.</td></tr>
<tr><td><code>referrer_</code></td><td><code>address</code></td><td>The address of the referrer to receive a share of the fee.</td></tr>
<tr><td><code>strategy_</code></td><td><code>Strategy</code></td><td>The {Strategy} to use for computing the fee split.</td></tr>
</tbody></table>
</div>
<h3 id="feereceiver"><a class="header" href="#feereceiver">feeReceiver</a></h3>
<p>Gets the fee receiver for a given {Edition}.</p>
<pre><code class="language-solidity">function feeReceiver(IEdition edition_, uint256 tokenId_) public view returns (Target memory);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>edition_</code></td><td><code>IEdition</code></td><td>The {Edition} for which to get the fee receiver.</td></tr>
<tr><td><code>tokenId_</code></td><td><code>uint256</code></td><td></td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>Target</code></td><td>feeReceiver The {Target} to receive the fee.</td></tr>
</tbody></table>
</div>
<h3 id="getcreationfee"><a class="header" href="#getcreationfee">getCreationFee</a></h3>
<p>Calculates the fee for creating a new {Edition}.</p>
<p><em>The creation fee is a flat fee collected by the protocol when a new {Edition} is created.</em></p>
<pre><code class="language-solidity">function getCreationFee() public view returns (Fee memory fee);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>fee</code></td><td><code>Fee</code></td><td>The {Fee} for creating a new {Edition}.</td></tr>
</tbody></table>
</div>
<h3 id="getmintfee"><a class="header" href="#getmintfee">getMintFee</a></h3>
<p>Calculates the mint fee for a given {Edition} based on its {Strategy}.</p>
<p>*The mint fee is calculated as the sum of:</p>
<ul>
<li>The mint fee specified by the creator in the {Strategy}.</li>
<li>The protocol's base transaction fee (see {protocolFlatFee}).*</li>
</ul>
<pre><code class="language-solidity">function getMintFee(IEdition edition_, uint256 tokenId_, uint256 quantity_)
    public
    view
    returns (Fee memory fee);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>edition_</code></td><td><code>IEdition</code></td><td>The {Edition} for which to calculate the mint fee.</td></tr>
<tr><td><code>tokenId_</code></td><td><code>uint256</code></td><td></td></tr>
<tr><td><code>quantity_</code></td><td><code>uint256</code></td><td></td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>fee</code></td><td><code>Fee</code></td><td>The {Fee} for minting the {Edition}.</td></tr>
</tbody></table>
</div>
<h3 id="getmintfee-1"><a class="header" href="#getmintfee-1">getMintFee</a></h3>
<p>Calculates the mint fee for a given {Strategy} based on the quantity of tokens being minted.</p>
<p>*The mint fee is calculated as the sum of:</p>
<ul>
<li>The {Strategy.mintFee}.</li>
<li>The {protocolFlatFee}.*</li>
</ul>
<pre><code class="language-solidity">function getMintFee(Strategy memory strategy_, uint256 quantity_)
    public
    view
    returns (Fee memory fee);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>strategy_</code></td><td><code>Strategy</code></td><td>The {Strategy} for which to calculate the mint fee.</td></tr>
<tr><td><code>quantity_</code></td><td><code>uint256</code></td><td>The quantity of tokens being minted.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>fee</code></td><td><code>Fee</code></td><td>The {Fee} for minting the tokens.</td></tr>
</tbody></table>
</div>
<h3 id="getmintreferrershare"><a class="header" href="#getmintreferrershare">getMintReferrerShare</a></h3>
<p>Calculates the referrer share for a given amount.</p>
<pre><code class="language-solidity">function getMintReferrerShare(uint256 protocolFee_, address referrer_)
    public
    view
    returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>protocolFee_</code></td><td><code>uint256</code></td><td>The amount from which to calculate the referrer share.</td></tr>
<tr><td><code>referrer_</code></td><td><code>address</code></td><td></td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>referrerShare The mint referrer's share.</td></tr>
</tbody></table>
</div>
<h3 id="getcollectionreferrershare"><a class="header" href="#getcollectionreferrershare">getCollectionReferrerShare</a></h3>
<p>Calculates the collection referrer share for a given amount.</p>
<pre><code class="language-solidity">function getCollectionReferrerShare(uint256 protocolFee_, address referrer_)
    public
    view
    returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>protocolFee_</code></td><td><code>uint256</code></td><td>The amount from which to calculate the collection referrer share.</td></tr>
<tr><td><code>referrer_</code></td><td><code>address</code></td><td></td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>referrerShare The collection referrer's share.</td></tr>
</tbody></table>
</div>
<h3 id="getrouteid"><a class="header" href="#getrouteid">getRouteId</a></h3>
<p>Gets the route ID for a given {Edition} and token ID.</p>
<pre><code class="language-solidity">function getRouteId(IEdition edition_, uint256 tokenId_) public pure returns (bytes32 id);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>edition_</code></td><td><code>IEdition</code></td><td>The {Edition} for which to get the route ID.</td></tr>
<tr><td><code>tokenId_</code></td><td><code>uint256</code></td><td>The token ID for which to get the route ID.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>id</code></td><td><code>bytes32</code></td><td>The route ID.</td></tr>
</tbody></table>
</div>
<h3 id="setprotocolfees"><a class="header" href="#setprotocolfees">setProtocolFees</a></h3>
<p>Updates the protocol fees which are collected for various actions.</p>
<p><em>This function can only be called by the owner or an admin.</em></p>
<pre><code class="language-solidity">function setProtocolFees(
    uint64 protocolCreationFee_,
    uint64 protocolFlatFee_,
    uint16 protocolFeeShareBps_,
    uint16 mintReferrerRevshareBps_,
    uint16 collectionReferrerRevshareBps_
) external onlyOwnerOrRoles(ADMIN_ROLE);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>protocolCreationFee_</code></td><td><code>uint64</code></td><td>The new protocol creation fee. This fee is collected when a new {Edition} is created. Cannot exceed {MAX_PROTOCOL_FEE}.</td></tr>
<tr><td><code>protocolFlatFee_</code></td><td><code>uint64</code></td><td>The new protocol flat fee. This fee is collected on all mint transactions. Cannot exceed {MAX_PROTOCOL_FEE}.</td></tr>
<tr><td><code>protocolFeeShareBps_</code></td><td><code>uint16</code></td><td>The new protocol fee share in basis points. Cannot exceed {MAX_PROTOCOL_FEE_BPS}.</td></tr>
<tr><td><code>mintReferrerRevshareBps_</code></td><td><code>uint16</code></td><td>The new mint referrer revenue share in basis points. This plus the collection referrer share cannot exceed {MAX_ROYALTY_BPS}.</td></tr>
<tr><td><code>collectionReferrerRevshareBps_</code></td><td><code>uint16</code></td><td>The new collection referrer revenue share in basis points. This plus the mint referrer share cannot exceed {MAX_ROYALTY_BPS}.</td></tr>
</tbody></table>
</div>
<h3 id="validatestrategy"><a class="header" href="#validatestrategy">validateStrategy</a></h3>
<p>Returns a validated {Strategy} based on the given data.</p>
<pre><code class="language-solidity">function validateStrategy(Strategy calldata strategy_)
    external
    pure
    returns (Strategy memory strategy);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>strategy_</code></td><td><code>Strategy</code></td><td>The {Strategy} to validate.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>strategy</code></td><td><code>Strategy</code></td><td>The validated {Strategy}.</td></tr>
</tbody></table>
</div>
<h3 id="receive"><a class="header" href="#receive">receive</a></h3>
<p>Allows the contract to receive ETH.</p>
<pre><code class="language-solidity">receive() external payable;
</code></pre>
<h3 id="withdraw"><a class="header" href="#withdraw">withdraw</a></h3>
<p>An escape hatch to transfer any trapped assets from the contract to the given address.</p>
<p><em>This is meant to be used in cases where the contract is holding assets that it should not be. This function can only be called by an admin.</em></p>
<pre><code class="language-solidity">function withdraw(address asset_, uint256 amount_, address to_)
    external
    onlyRolesOrOwner(ADMIN_ROLE);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>asset_</code></td><td><code>address</code></td><td>The address of the asset to withdraw.</td></tr>
<tr><td><code>amount_</code></td><td><code>uint256</code></td><td>The amount of the asset to withdraw.</td></tr>
<tr><td><code>to_</code></td><td><code>address</code></td><td>The address to send the asset to.</td></tr>
</tbody></table>
</div>
<h3 id="_collectmintfee"><a class="header" href="#_collectmintfee">_collectMintFee</a></h3>
<p>Collects the given {Fee} for a given {Edition} and token ID, routing it as appropriate.</p>
<pre><code class="language-solidity">function _collectMintFee(
    IEdition edition_,
    uint256 tokenId_,
    uint256 amount_,
    address payer_,
    address referrer_,
    Fee memory fee_
) internal;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>edition_</code></td><td><code>IEdition</code></td><td>The {Edition} for which the fee is being collected.</td></tr>
<tr><td><code>tokenId_</code></td><td><code>uint256</code></td><td>The token ID associated with the fee.</td></tr>
<tr><td><code>amount_</code></td><td><code>uint256</code></td><td>The amount of tokens being minted.</td></tr>
<tr><td><code>payer_</code></td><td><code>address</code></td><td>The address of the account paying the fee.</td></tr>
<tr><td><code>referrer_</code></td><td><code>address</code></td><td>The address of the referrer to receive a share of the fee.</td></tr>
<tr><td><code>fee_</code></td><td><code>Fee</code></td><td>The {Fee} to collect.</td></tr>
</tbody></table>
</div>
<h3 id="_splitprotocolfee"><a class="header" href="#_splitprotocolfee">_splitProtocolFee</a></h3>
<pre><code class="language-solidity">function _splitProtocolFee(
    IEdition edition_,
    address asset_,
    uint256 amount_,
    address payer_,
    address referrer_
) internal returns (uint256 referrerShare);
</code></pre>
<h3 id="_route"><a class="header" href="#_route">_route</a></h3>
<p>Routes the given {Fee} to the appropriate receiver.</p>
<p><em>If the fee amount is zero, this function will return early. If the receiver is not on the same chain as the payer, this function will revert.</em></p>
<pre><code class="language-solidity">function _route(Fee memory fee_, Target memory feeReceiver_, address feePayer_) internal;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>fee_</code></td><td><code>Fee</code></td><td>The {Fee} to route.</td></tr>
<tr><td><code>feeReceiver_</code></td><td><code>Target</code></td><td>The {Target} to receive the fee.</td></tr>
<tr><td><code>feePayer_</code></td><td><code>address</code></td><td>The address of the account paying the fee.</td></tr>
</tbody></table>
</div>
<h3 id="_transfer"><a class="header" href="#_transfer">_transfer</a></h3>
<p>Transfers the given amount of the given asset from the sender to the receiver.</p>
<pre><code class="language-solidity">function _transfer(address asset_, uint256 amount_, address from_, address to_) internal;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>asset_</code></td><td><code>address</code></td><td>The address of the asset to transfer.</td></tr>
<tr><td><code>amount_</code></td><td><code>uint256</code></td><td>The amount of the asset to transfer.</td></tr>
<tr><td><code>from_</code></td><td><code>address</code></td><td>The address of the account sending the asset.</td></tr>
<tr><td><code>to_</code></td><td><code>address</code></td><td>The address of the account receiving the asset.</td></tr>
</tbody></table>
</div>
<h3 id="_buildsharesandtargets"><a class="header" href="#_buildsharesandtargets">_buildSharesAndTargets</a></h3>
<p>Builds the targets and shares arrays for a given creator and attributions.</p>
<p><em>Note that cross-chain payouts are not currently supported. Rather than reverting, this function assumes that the creator and attributions are on the same network.</em></p>
<pre><code class="language-solidity">function _buildSharesAndTargets(
    Target memory creator,
    Target[] memory attributions,
    uint32 revshareBps
) internal pure returns (address[] memory targets, uint256[] memory shares);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>creator</code></td><td><code>Target</code></td><td>The creator of the work.</td></tr>
<tr><td><code>attributions</code></td><td><code>Target[]</code></td><td>The attributions for the work.</td></tr>
<tr><td><code>revshareBps</code></td><td><code>uint32</code></td><td>The revshare in basis points.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>targets</code></td><td><code>address[]</code></td><td>The array of targets.</td></tr>
<tr><td><code>shares</code></td><td><code>uint256[]</code></td><td>The array of shares.</td></tr>
</tbody></table>
</div>
<h2 id="events"><a class="header" href="#events">Events</a></h2>
<h3 id="feecollected"><a class="header" href="#feecollected">FeeCollected</a></h3>
<p>Emitted when a fee is collected.</p>
<pre><code class="language-solidity">event FeeCollected(
    address indexed edition, uint256 work, address asset, uint256 fee, uint256 referrerShare
);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>edition</code></td><td><code>address</code></td><td>The address of the edition for which the fee was collected.</td></tr>
<tr><td><code>work</code></td><td><code>uint256</code></td><td>The ID of the work for which the fee was collected.</td></tr>
<tr><td><code>asset</code></td><td><code>address</code></td><td>The address of the asset which was collected.</td></tr>
<tr><td><code>fee</code></td><td><code>uint256</code></td><td>The amount of the fee collected.</td></tr>
<tr><td><code>referrerShare</code></td><td><code>uint256</code></td><td>The portion of the collected fee which was paid to the referrer.</td></tr>
</tbody></table>
</div>
<h3 id="protocolfeeschanged"><a class="header" href="#protocolfeeschanged">ProtocolFeesChanged</a></h3>
<p>Emitted when the protocol fees are changed.</p>
<pre><code class="language-solidity">event ProtocolFeesChanged(
    uint16 protocolFeeBps, uint128 protocolFlatFee, uint16 mintReferrerRevshareBps
);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>protocolFeeBps</code></td><td><code>uint16</code></td><td>The new protocol fee in basis points.</td></tr>
<tr><td><code>protocolFlatFee</code></td><td><code>uint128</code></td><td>The new protocol flat fee.</td></tr>
<tr><td><code>mintReferrerRevshareBps</code></td><td><code>uint16</code></td><td>The new partner revenue share in basis points.</td></tr>
</tbody></table>
</div>
<h2 id="errors"><a class="header" href="#errors">Errors</a></h2>
<h3 id="invalidfee"><a class="header" href="#invalidfee">InvalidFee</a></h3>
<p>Thrown when an invalid fee configuration is supplied.</p>
<pre><code class="language-solidity">error InvalidFee();
</code></pre>
<h3 id="notroutable"><a class="header" href="#notroutable">NotRoutable</a></h3>
<p>Thrown when a fee cannot be routed.</p>
<pre><code class="language-solidity">error NotRoutable();
</code></pre>
<h2 id="structs-1"><a class="header" href="#structs-1">Structs</a></h2>
<h3 id="strategypayload"><a class="header" href="#strategypayload">StrategyPayload</a></h3>
<p>The payload for creating a {Strategy}.</p>
<pre><code class="language-solidity">struct StrategyPayload {
    address edition;
    uint256 tokenId;
    Strategy strategy;
}
</code></pre>
<p><strong>Properties</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>edition</code></td><td><code>address</code></td><td>The address of the {Edition} to be associated with the {Strategy}.</td></tr>
<tr><td><code>tokenId</code></td><td><code>uint256</code></td><td>The ID of the token to be associated with the {Strategy}.</td></tr>
<tr><td><code>strategy</code></td><td><code>Strategy</code></td><td>The {Strategy} to be created.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="contents-2"><a class="header" href="#contents-2">Contents</a></h1>
<ul>
<li><a href="src/graph/TitlesGraph.sol/contract.TitlesGraph.html">TitlesGraph</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="titlesgraph"><a class="header" href="#titlesgraph">TitlesGraph</a></h1>
<p><a href="https://github.com/titlesnyc/wallflower-contract-v2/blob/190d4e66726023743d2d6974c49be143469e59b9/src/graph/TitlesGraph.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/graph/TitlesGraph.sol//src/interfaces/IOpenGraph.sol/interface.IOpenGraph.html">IOpenGraph</a>, <a href="src/graph/TitlesGraph.sol//src/interfaces/IEdgeManager.sol/interface.IEdgeManager.html">IEdgeManager</a>, OwnableRoles, EIP712, UUPSUpgradeable</p>
<p>Titles.xyz implementation of the OpenGraph standard</p>
<p><em>The TitlesGraph contract implements the OpenGraph standard and is responsible for managing the creation and acknowledgment of {Node}s and {Edge}s in the graph.</em></p>
<h2 id="state-variables-2"><a class="header" href="#state-variables-2">State Variables</a></h2>
<h3 id="_edgeids"><a class="header" href="#_edgeids">_edgeIds</a></h3>
<p>The set of edge IDs in the graph. Enumerable to enable on-chain graph traversal in the future.</p>
<pre><code class="language-solidity">EnumerableSet.Bytes32Set private _edgeIds;
</code></pre>
<h3 id="edges"><a class="header" href="#edges">edges</a></h3>
<p>Edges are relationships between two nodes in the graph.</p>
<pre><code class="language-solidity">mapping(bytes32 id =&gt; Edge edge) public edges;
</code></pre>
<h3 id="_isused"><a class="header" href="#_isused">_isUsed</a></h3>
<p>An internal mapping to prevent signature reuse.</p>
<pre><code class="language-solidity">mapping(bytes32 signature =&gt; bool used) private _isUsed;
</code></pre>
<h3 id="ack_typehash"><a class="header" href="#ack_typehash">ACK_TYPEHASH</a></h3>
<pre><code class="language-solidity">bytes32 public constant ACK_TYPEHASH = keccak256("Ack(bytes32 edgeId,bytes data)");
</code></pre>
<h3 id="domain_typehash"><a class="header" href="#domain_typehash">DOMAIN_TYPEHASH</a></h3>
<pre><code class="language-solidity">bytes32 public constant DOMAIN_TYPEHASH = _DOMAIN_TYPEHASH;
</code></pre>
<h2 id="functions-2"><a class="header" href="#functions-2">Functions</a></h2>
<h3 id="checksignature"><a class="header" href="#checksignature">checkSignature</a></h3>
<p>Modified to check the signature for a proxied acknowledgment.</p>
<pre><code class="language-solidity">modifier checkSignature(bytes32 edgeId, bytes calldata data, bytes calldata signature);
</code></pre>
<h3 id="constructor-1"><a class="header" href="#constructor-1">constructor</a></h3>
<pre><code class="language-solidity">constructor(address owner_, address admin_);
</code></pre>
<h3 id="createedge"><a class="header" href="#createedge">createEdge</a></h3>
<p>Create a new {Edge} between two {Node}s in the graph.</p>
<p><em>This function is used to create a new edge between two nodes in the graph and will revert if not unique or if called by any address other than the contract referenced as the <code>from</code> node. A {NodeTouched} event is emitted for each node and an {EdgeCreated} event is emitted for the edge itself.</em></p>
<pre><code class="language-solidity">function createEdge(Node calldata from_, Node calldata to_, bytes calldata data_)
    external
    override
    returns (Edge memory edge);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>from_</code></td><td><code>Node</code></td><td>The {Node} from which the edge originates.</td></tr>
<tr><td><code>to_</code></td><td><code>Node</code></td><td>The {Node} to which the edge points.</td></tr>
<tr><td><code>data_</code></td><td><code>bytes</code></td><td>Metadata associated with the edge.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>edge</code></td><td><code>Edge</code></td><td>The created edge.</td></tr>
</tbody></table>
</div>
<h3 id="createedges"><a class="header" href="#createedges">createEdges</a></h3>
<p>Create multiple edges within the graph.</p>
<p><em>This function is used to create multiple edges within the graph and will revert if any of the edges are not unique. It emits a {NodeTouched} event for each node and an {EdgeCreated} event for each edge.</em></p>
<pre><code class="language-solidity">function createEdges(Edge[] calldata edges_) external onlyRolesOrOwner(ADMIN_ROLE);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>edges_</code></td><td><code>Edge[]</code></td><td>The edges to create.</td></tr>
</tbody></table>
</div>
<h3 id="_createedge"><a class="header" href="#_createedge">_createEdge</a></h3>
<pre><code class="language-solidity">function _createEdge(Node memory from_, Node memory to_, bytes memory data_)
    internal
    returns (Edge memory edge);
</code></pre>
<h3 id="acknowledgeedge"><a class="header" href="#acknowledgeedge">acknowledgeEdge</a></h3>
<p>Acknowledge an edge.</p>
<p><em>This function is used to acknowledge an edge that was previously created and will revert if the edge does not exist. It emits an {EdgeAcknowledged} event for the edge.</em></p>
<pre><code class="language-solidity">function acknowledgeEdge(bytes32 edgeId_, bytes calldata data_)
    external
    override
    returns (Edge memory edge);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>edgeId_</code></td><td><code>bytes32</code></td><td>The ID of the edge to acknowledge.</td></tr>
<tr><td><code>data_</code></td><td><code>bytes</code></td><td>Additional data to include with the acknowledgment.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>edge</code></td><td><code>Edge</code></td><td>The acknowledged edge.</td></tr>
</tbody></table>
</div>
<h3 id="acknowledgeedge-1"><a class="header" href="#acknowledgeedge-1">acknowledgeEdge</a></h3>
<p>Acknowledge an edge using an ECDSA signature.</p>
<p><em>The request is valid if the given signature was produced using the edge ID as the message and the creator of the <code>to</code> node as the signer.</em></p>
<p><em>This function is used to acknowledge an edge that was previously created and will revert if the edge does not exist or if the signature is invalid. It emits an {EdgeAcknowledged} event for the edge.</em></p>
<pre><code class="language-solidity">function acknowledgeEdge(bytes32 edgeId_, bytes calldata data_, bytes calldata signature_)
    external
    checkSignature(edgeId_, data_, signature_)
    returns (Edge memory edge);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>edgeId_</code></td><td><code>bytes32</code></td><td>The ID of the edge to acknowledge.</td></tr>
<tr><td><code>data_</code></td><td><code>bytes</code></td><td>Additional data to include with the acknowledgment.</td></tr>
<tr><td><code>signature_</code></td><td><code>bytes</code></td><td>The ECDSA signature to verify.</td></tr>
</tbody></table>
</div>
<h3 id="unacknowledgeedge"><a class="header" href="#unacknowledgeedge">unacknowledgeEdge</a></h3>
<p>Unacknowledge an edge.</p>
<p><em>This function is used to unacknowledge an edge that was previously acknowledged.</em></p>
<pre><code class="language-solidity">function unacknowledgeEdge(bytes32 edgeId_, bytes calldata data_)
    external
    override
    returns (Edge memory edge);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>edgeId_</code></td><td><code>bytes32</code></td><td>The ID of the edge to unacknowledge.</td></tr>
<tr><td><code>data_</code></td><td><code>bytes</code></td><td>Additional data to include with the unacknowledgment.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>edge</code></td><td><code>Edge</code></td><td>The unacknowledged {Edge}.</td></tr>
</tbody></table>
</div>
<h3 id="unacknowledgeedge-1"><a class="header" href="#unacknowledgeedge-1">unacknowledgeEdge</a></h3>
<p>Unacknowledge an edge using an ECDSA signature.</p>
<p><em>The request is valid if the given signature was produced using the edge ID as the message and the creator of the <code>to</code> node as the signer.</em></p>
<p><em>This function is used to unacknowledge an edge that was previously acknowledged and will revert if the edge does not exist or if the signature is invalid. It emits an {EdgeUnacknowledged} event for the edge.</em></p>
<pre><code class="language-solidity">function unacknowledgeEdge(bytes32 edgeId_, bytes calldata data_, bytes calldata signature_)
    external
    checkSignature(edgeId_, data_, signature_)
    returns (Edge memory edge);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>edgeId_</code></td><td><code>bytes32</code></td><td>The ID of the edge to unacknowledge.</td></tr>
<tr><td><code>data_</code></td><td><code>bytes</code></td><td>Additional data to include with the unacknowledgment.</td></tr>
<tr><td><code>signature_</code></td><td><code>bytes</code></td><td>The ECDSA signature to verify.</td></tr>
</tbody></table>
</div>
<h3 id="grantroles-1"><a class="header" href="#grantroles-1">grantRoles</a></h3>
<p>Override the {OwnableRoles} implementation to extend access to the <code>ADMIN_ROLE</code>.</p>
<p><em>This function is used to grant roles to an address and will revert if the caller is not the owner and does not have the <code>ADMIN_ROLE</code>.</em></p>
<pre><code class="language-solidity">function grantRoles(address guy, uint256 roles)
    public
    payable
    override
    onlyOwnerOrRoles(ADMIN_ROLE);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>guy</code></td><td><code>address</code></td><td>The address to grant the roles.</td></tr>
<tr><td><code>roles</code></td><td><code>uint256</code></td><td>The roles to grant.</td></tr>
</tbody></table>
</div>
<h3 id="revokeroles-1"><a class="header" href="#revokeroles-1">revokeRoles</a></h3>
<p>Override the {OwnableRoles} implementation to extend access to the <code>ADMIN_ROLE</code>.</p>
<p><em>This function is used to revoke roles from an address and will revert if the caller is not the owner and does not have the <code>ADMIN_ROLE</code>.</em></p>
<pre><code class="language-solidity">function revokeRoles(address guy, uint256 roles)
    public
    payable
    override
    onlyOwnerOrRoles(ADMIN_ROLE);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>guy</code></td><td><code>address</code></td><td>The address from which to revoke the roles.</td></tr>
<tr><td><code>roles</code></td><td><code>uint256</code></td><td>The roles to revoke.</td></tr>
</tbody></table>
</div>
<h3 id="getedgeid"><a class="header" href="#getedgeid">getEdgeId</a></h3>
<p>Get the ID of an edge given the source and target nodes.</p>
<pre><code class="language-solidity">function getEdgeId(Node memory from_, Node memory to_) public pure returns (bytes32);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>from_</code></td><td><code>Node</code></td><td>The source node of the edge.</td></tr>
<tr><td><code>to_</code></td><td><code>Node</code></td><td>The target node of the edge.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bytes32</code></td><td>edgeId The ID of the edge (i.e. the keccak256 hash of the <code>from</code> and <code>to</code> nodes).</td></tr>
</tbody></table>
</div>
<h3 id="getedgeid-1"><a class="header" href="#getedgeid-1">getEdgeId</a></h3>
<p>Get the ID of an edge.</p>
<pre><code class="language-solidity">function getEdgeId(Edge memory edge_) public pure returns (bytes32);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>edge_</code></td><td><code>Edge</code></td><td>The edge for which to get the ID.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bytes32</code></td><td>edgeId The ID of the edge (i.e. the keccak256 hash of the <code>from</code> and <code>to</code> nodes).</td></tr>
</tbody></table>
</div>
<h3 id="_setacknowledged"><a class="header" href="#_setacknowledged">_setAcknowledged</a></h3>
<p>Set the acknowledged status of an edge.</p>
<pre><code class="language-solidity">function _setAcknowledged(bytes32 edgeId_, bytes calldata data_, bool acknowledged_)
    internal
    returns (Edge memory edge);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>edgeId_</code></td><td><code>bytes32</code></td><td>The ID of the edge to set the acknowledged status for.</td></tr>
<tr><td><code>data_</code></td><td><code>bytes</code></td><td>Additional data to include with the acknowledgment.</td></tr>
<tr><td><code>acknowledged_</code></td><td><code>bool</code></td><td>The new acknowledged status of the edge.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>edge</code></td><td><code>Edge</code></td><td>The edge with the updated acknowledged status.</td></tr>
</tbody></table>
</div>
<h3 id="_authorizeupgrade"><a class="header" href="#_authorizeupgrade">_authorizeUpgrade</a></h3>
<p>Allows the admin to upgrade the contract.</p>
<p><em>This function overrides the {UUPSUpgradeable} implementation to restrict upgrade rights to the graph owner.</em></p>
<pre><code class="language-solidity">function _authorizeUpgrade(address) internal view override onlyOwnerOrRoles(ADMIN_ROLE);
</code></pre>
<h3 id="_domainnameandversion"><a class="header" href="#_domainnameandversion">_domainNameAndVersion</a></h3>
<p>Returns the domain name and version for EIP-712.</p>
<pre><code class="language-solidity">function _domainNameAndVersion()
    internal
    pure
    override
    returns (string memory name, string memory version);
</code></pre>
<h3 id="_iscreator"><a class="header" href="#_iscreator">_isCreator</a></h3>
<p>Checks if the given address is the creator of a node.</p>
<pre><code class="language-solidity">function _isCreator(Node memory node, address guy) internal pure returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>node</code></td><td><code>Node</code></td><td>The node to check.</td></tr>
<tr><td><code>guy</code></td><td><code>address</code></td><td>The address to check.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td>True if the address is the creator of the node, false otherwise.</td></tr>
</tbody></table>
</div>
<h3 id="_isentity"><a class="header" href="#_isentity">_isEntity</a></h3>
<p>Checks if the given address is the on-chain entity represented by a node.</p>
<pre><code class="language-solidity">function _isEntity(Node memory node, address guy) internal pure returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>node</code></td><td><code>Node</code></td><td>The node to check.</td></tr>
<tr><td><code>guy</code></td><td><code>address</code></td><td>The address to check.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td>True if the address is the entity of the node, false otherwise.</td></tr>
</tbody></table>
</div>
<h3 id="_iscreatororentity"><a class="header" href="#_iscreatororentity">_isCreatorOrEntity</a></h3>
<p>Checks if the given address is either the creator or on-chain entity represented by a node.</p>
<pre><code class="language-solidity">function _isCreatorOrEntity(Node memory node, address guy) internal pure returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>node</code></td><td><code>Node</code></td><td>The node to check.</td></tr>
<tr><td><code>guy</code></td><td><code>address</code></td><td>The address to check.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td>True if the address is the creator or entity of the node, false otherwise.</td></tr>
</tbody></table>
</div>
<h2 id="errors-1"><a class="header" href="#errors-1">Errors</a></h2>
<h3 id="exists"><a class="header" href="#exists">Exists</a></h3>
<pre><code class="language-solidity">error Exists();
</code></pre>
<h3 id="notfound"><a class="header" href="#notfound">NotFound</a></h3>
<pre><code class="language-solidity">error NotFound();
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-3"><a class="header" href="#contents-3">Contents</a></h1>
<ul>
<li><a href="src/interfaces/IEdgeManager.sol/interface.IEdgeManager.html">IEdgeManager</a></li>
<li><a href="src/interfaces/IEdition.sol/interface.IEdition.html">IEdition</a></li>
<li><a href="src/interfaces/IOpenGraph.sol/interface.IOpenGraph.html">IOpenGraph</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="iedgemanager"><a class="header" href="#iedgemanager">IEdgeManager</a></h1>
<p><a href="https://github.com/titlesnyc/wallflower-contract-v2/blob/190d4e66726023743d2d6974c49be143469e59b9/src/interfaces/IEdgeManager.sol">Git Source</a></p>
<p>Interface for EdgeManager</p>
<p><em>An EdgeManager is responsible for managing the relationship between {Node}s (i.e. {Edge}s) in the graph.</em></p>
<h2 id="functions-3"><a class="header" href="#functions-3">Functions</a></h2>
<h3 id="acknowledgeedge-2"><a class="header" href="#acknowledgeedge-2">acknowledgeEdge</a></h3>
<p>Acknowledges an {Edge} with the given data.</p>
<pre><code class="language-solidity">function acknowledgeEdge(bytes32 edgeId_, bytes calldata data_)
    external
    returns (Edge memory edge);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>edgeId_</code></td><td><code>bytes32</code></td><td>The ID of the {Edge} to acknowledge.</td></tr>
<tr><td><code>data_</code></td><td><code>bytes</code></td><td>The data associated with the acknowledgment.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>edge</code></td><td><code>Edge</code></td><td>The acknowledged {Edge}.</td></tr>
</tbody></table>
</div>
<h3 id="unacknowledgeedge-2"><a class="header" href="#unacknowledgeedge-2">unacknowledgeEdge</a></h3>
<p>Unacknowledges an {Edge} with the given data.</p>
<pre><code class="language-solidity">function unacknowledgeEdge(bytes32 edgeId_, bytes calldata data_)
    external
    returns (Edge memory edge);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>edgeId_</code></td><td><code>bytes32</code></td><td>The ID of the {Edge} to unacknowledge.</td></tr>
<tr><td><code>data_</code></td><td><code>bytes</code></td><td>The data associated with the unacknowledgment.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>edge</code></td><td><code>Edge</code></td><td>The unacknowledged {Edge}.</td></tr>
</tbody></table>
</div>
<h2 id="events-1"><a class="header" href="#events-1">Events</a></h2>
<h3 id="edgeacknowledged"><a class="header" href="#edgeacknowledged">EdgeAcknowledged</a></h3>
<p>Emitted when an {Edge} is acknowledged.</p>
<pre><code class="language-solidity">event EdgeAcknowledged(Edge edge, address acknowledger, bytes data);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>edge</code></td><td><code>Edge</code></td><td>The acknowledged {Edge}.</td></tr>
<tr><td><code>acknowledger</code></td><td><code>address</code></td><td>The address of the acknowledger.</td></tr>
<tr><td><code>data</code></td><td><code>bytes</code></td><td>The data associated with the acknowledgment.</td></tr>
</tbody></table>
</div>
<h3 id="edgeunacknowledged"><a class="header" href="#edgeunacknowledged">EdgeUnacknowledged</a></h3>
<p>Emitted when an {Edge} is unacknowledged.</p>
<pre><code class="language-solidity">event EdgeUnacknowledged(Edge edge, address acknowledger, bytes data);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>edge</code></td><td><code>Edge</code></td><td>The unacknowledged {Edge}.</td></tr>
<tr><td><code>acknowledger</code></td><td><code>address</code></td><td>The address of the acknowledger.</td></tr>
<tr><td><code>data</code></td><td><code>bytes</code></td><td>The data associated with the unacknowledgment.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="iedition"><a class="header" href="#iedition">IEdition</a></h1>
<p><a href="https://github.com/titlesnyc/wallflower-contract-v2/blob/190d4e66726023743d2d6974c49be143469e59b9/src/interfaces/IEdition.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
IERC165</p>
<h2 id="functions-4"><a class="header" href="#functions-4">Functions</a></h2>
<h3 id="publish-1"><a class="header" href="#publish-1">publish</a></h3>
<p>Publishes a new work within the edition on behalf of <code>creator</code> with the given configuration.</p>
<pre><code class="language-solidity">function publish(
    address creator,
    uint256 maxSupply,
    uint64 opensAt,
    uint64 closesAt,
    Node[] calldata attributions,
    Strategy calldata strategy,
    Metadata calldata metadata
) external returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>creator</code></td><td><code>address</code></td><td>The creator of the work.</td></tr>
<tr><td><code>maxSupply</code></td><td><code>uint256</code></td><td>The maximum supply of the work.</td></tr>
<tr><td><code>opensAt</code></td><td><code>uint64</code></td><td>The timestamp after which the work is mintable.</td></tr>
<tr><td><code>closesAt</code></td><td><code>uint64</code></td><td>The timestamp after which the work is no longer mintable.</td></tr>
<tr><td><code>attributions</code></td><td><code>Node[]</code></td><td>The attributions for the work.</td></tr>
<tr><td><code>strategy</code></td><td><code>Strategy</code></td><td>The fee strategy for the work.</td></tr>
<tr><td><code>metadata</code></td><td><code>Metadata</code></td><td>The metadata for the work.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>The token ID of the work.</td></tr>
</tbody></table>
</div>
<h3 id="creator-2"><a class="header" href="#creator-2">creator</a></h3>
<p>Get the creator of the Edition. Alias for <a href="src/interfaces/IEdition.sol//src/interfaces/IEdition.sol/interface.IEdition.html#owner">owner</a>.</p>
<pre><code class="language-solidity">function creator() external view returns (address);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>address</code></td><td>The creator of the Edition.</td></tr>
</tbody></table>
</div>
<h3 id="creator-3"><a class="header" href="#creator-3">creator</a></h3>
<p>Get the creator of the given work (token ID).</p>
<pre><code class="language-solidity">function creator(uint256 tokenId) external view returns (address);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>tokenId</code></td><td><code>uint256</code></td><td>The token ID of the Edition.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>address</code></td><td>The creator of the Edition.</td></tr>
</tbody></table>
</div>
<h3 id="mint-1"><a class="header" href="#mint-1">mint</a></h3>
<p>Mints <code>amount</code> of the given <code>tokenId</code> to the <code>to</code> address.</p>
<pre><code class="language-solidity">function mint(address to, uint256 tokenId, uint256 amount, address referrer, bytes calldata data)
    external
    payable;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>to</code></td><td><code>address</code></td><td>The address to mint the token to.</td></tr>
<tr><td><code>tokenId</code></td><td><code>uint256</code></td><td>The token ID to mint.</td></tr>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>The amount of tokens to mint.</td></tr>
<tr><td><code>referrer</code></td><td><code>address</code></td><td>The referrer of the mint.</td></tr>
<tr><td><code>data</code></td><td><code>bytes</code></td><td>Additional data to pass to the receiver.</td></tr>
</tbody></table>
</div>
<h3 id="feestrategy-1"><a class="header" href="#feestrategy-1">feeStrategy</a></h3>
<p>Get the fee strategy for the given token ID.</p>
<pre><code class="language-solidity">function feeStrategy(uint256 tokenId) external view returns (Strategy memory);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>tokenId</code></td><td><code>uint256</code></td><td>The token ID to get the fee strategy for.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>Strategy</code></td><td>The fee strategy for the token ID.</td></tr>
</tbody></table>
</div>
<h3 id="maxsupply-1"><a class="header" href="#maxsupply-1">maxSupply</a></h3>
<p>Get the max supply for the given token ID.</p>
<pre><code class="language-solidity">function maxSupply(uint256 tokenId) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>tokenId</code></td><td><code>uint256</code></td><td>The token ID to get the max supply for.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>The max supply for the token ID.</td></tr>
</tbody></table>
</div>
<h3 id="name-2"><a class="header" href="#name-2">name</a></h3>
<p>Get the name of the Edition.</p>
<pre><code class="language-solidity">function name() external view returns (string memory);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>string</code></td><td>The name of the Edition.</td></tr>
</tbody></table>
</div>
<h3 id="node-2"><a class="header" href="#node-2">node</a></h3>
<p>Get the {Node} for the collection.</p>
<pre><code class="language-solidity">function node() external view returns (Node memory);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>Node</code></td><td>The node for the edition.</td></tr>
</tbody></table>
</div>
<h3 id="node-3"><a class="header" href="#node-3">node</a></h3>
<p>Get the {Node} for the given work.</p>
<pre><code class="language-solidity">function node(uint256 tokenId) external view returns (Node memory);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>tokenId</code></td><td><code>uint256</code></td><td>The token ID of the work.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>Node</code></td><td>The node for the work.</td></tr>
</tbody></table>
</div>
<h3 id="owner-1"><a class="header" href="#owner-1">owner</a></h3>
<p>Get the owner of the Edition.</p>
<pre><code class="language-solidity">function owner() external view returns (address);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>address</code></td><td>The owner of the Edition.</td></tr>
</tbody></table>
</div>
<h3 id="totalsupply-1"><a class="header" href="#totalsupply-1">totalSupply</a></h3>
<p>Get the total supply for the given token ID.</p>
<pre><code class="language-solidity">function totalSupply(uint256 tokenId) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>tokenId</code></td><td><code>uint256</code></td><td>The token ID to get the total supply for.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>The total supply for the token ID.</td></tr>
</tbody></table>
</div>
<h3 id="uri-2"><a class="header" href="#uri-2">uri</a></h3>
<p>Get the URI for the given token ID</p>
<pre><code class="language-solidity">function uri(uint256 tokenId) external view returns (string memory);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>tokenId</code></td><td><code>uint256</code></td><td>The token ID to get the URI for.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>string</code></td><td>The URI for the token ID.</td></tr>
</tbody></table>
</div>
<h3 id="supportsinterface-1"><a class="header" href="#supportsinterface-1">supportsInterface</a></h3>
<p>Determine if the contract supports the given interface.</p>
<pre><code class="language-solidity">function supportsInterface(bytes4 interfaceId) external view override returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>interfaceId</code></td><td><code>bytes4</code></td><td>The interface ID to check for support.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td>True if the contract supports the interface, false otherwise.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="iopengraph"><a class="header" href="#iopengraph">IOpenGraph</a></h1>
<p><a href="https://github.com/titlesnyc/wallflower-contract-v2/blob/190d4e66726023743d2d6974c49be143469e59b9/src/interfaces/IOpenGraph.sol">Git Source</a></p>
<p>Interface for OpenGraph standard</p>
<p><em>The OpenGraph standard defines the interface and events related to creating {Node}s and {Edge}s in the graph, but it has no opinion on how or whether the data should be stored on-chain.</em></p>
<h2 id="functions-5"><a class="header" href="#functions-5">Functions</a></h2>
<h3 id="createedge-1"><a class="header" href="#createedge-1">createEdge</a></h3>
<p>Creates an {Edge} with the given data.</p>
<pre><code class="language-solidity">function createEdge(Node memory from_, Node memory to_, bytes calldata data_)
    external
    returns (Edge memory edge);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>from_</code></td><td><code>Node</code></td><td>The {Node} from which the relationship originates</td></tr>
<tr><td><code>to_</code></td><td><code>Node</code></td><td>The {Node} to which the relationship points</td></tr>
<tr><td><code>data_</code></td><td><code>bytes</code></td><td>The serialized data payload for the {Edge} <code>(Node, Node, bytes)</code></td></tr>
</tbody></table>
</div>
<h2 id="events-2"><a class="header" href="#events-2">Events</a></h2>
<h3 id="nodetouched"><a class="header" href="#nodetouched">NodeTouched</a></h3>
<p>Emitted when a {Node} is touched.</p>
<pre><code class="language-solidity">event NodeTouched(Node node, bytes data);
</code></pre>
<h3 id="edgecreated"><a class="header" href="#edgecreated">EdgeCreated</a></h3>
<p>Emitted when an {Edge} is created.</p>
<pre><code class="language-solidity">event EdgeCreated(Edge edge, bytes data);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-4"><a class="header" href="#contents-4">Contents</a></h1>
<ul>
<li><a href="src/shared/Common.sol/error.MaxSupplyReached.html">MaxSupplyReached</a></li>
<li><a href="src/shared/Common.sol/error.NotOpen.html">NotOpen</a></li>
<li><a href="src/shared/Common.sol/error.NotImplemented.html">NotImplemented</a></li>
<li><a href="src/shared/Common.sol/error.Unauthorized.html">Unauthorized</a></li>
<li><a href="src/shared/Common.sol/event.EditionCreated.html">EditionCreated</a></li>
<li><a href="src/shared/Common.sol/event.Comment.html">Comment</a></li>
<li><a href="src/shared/Common.sol/event.FeeStrategyUpdated.html">FeeStrategyUpdated</a></li>
<li><a href="src/shared/Common.sol/event.TimeframeUpdated.html">TimeframeUpdated</a></li>
<li><a href="src/shared/Common.sol/event.Minted.html">Minted</a></li>
<li><a href="src/shared/Common.sol/event.Published.html">Published</a></li>
<li><a href="src/shared/Common.sol/event.WorkTransferred.html">WorkTransferred</a></li>
<li><a href="src/shared/Common.sol/enum.NodeType.html">NodeType</a></li>
<li><a href="src/shared/Common.sol/struct.Fee.html">Fee</a></li>
<li><a href="src/shared/Common.sol/struct.Edge.html">Edge</a></li>
<li><a href="src/shared/Common.sol/struct.Node.html">Node</a></li>
<li><a href="src/shared/Common.sol/struct.Metadata.html">Metadata</a></li>
<li><a href="src/shared/Common.sol/struct.Route.html">Route</a></li>
<li><a href="src/shared/Common.sol/struct.Strategy.html">Strategy</a></li>
<li><a href="src/shared/Common.sol/struct.Target.html">Target</a></li>
<li><a href="src/shared/Common.sol/constants.Common.html">Common constants</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="maxsupplyreached"><a class="header" href="#maxsupplyreached">MaxSupplyReached</a></h1>
<p><a href="https://github.com/titlesnyc/wallflower-contract-v2/blob/190d4e66726023743d2d6974c49be143469e59b9/src/shared/Common.sol">Git Source</a></p>
<pre><code class="language-solidity">error MaxSupplyReached();
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="notopen"><a class="header" href="#notopen">NotOpen</a></h1>
<p><a href="https://github.com/titlesnyc/wallflower-contract-v2/blob/190d4e66726023743d2d6974c49be143469e59b9/src/shared/Common.sol">Git Source</a></p>
<pre><code class="language-solidity">error NotOpen(uint64 opensAt_, uint64 closesAt_);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="notimplemented"><a class="header" href="#notimplemented">NotImplemented</a></h1>
<p><a href="https://github.com/titlesnyc/wallflower-contract-v2/blob/190d4e66726023743d2d6974c49be143469e59b9/src/shared/Common.sol">Git Source</a></p>
<pre><code class="language-solidity">error NotImplemented();
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="unauthorized"><a class="header" href="#unauthorized">Unauthorized</a></h1>
<p><a href="https://github.com/titlesnyc/wallflower-contract-v2/blob/190d4e66726023743d2d6974c49be143469e59b9/src/shared/Common.sol">Git Source</a></p>
<pre><code class="language-solidity">error Unauthorized();
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="editioncreated"><a class="header" href="#editioncreated">EditionCreated</a></h1>
<p><a href="https://github.com/titlesnyc/wallflower-contract-v2/blob/190d4e66726023743d2d6974c49be143469e59b9/src/shared/Common.sol">Git Source</a></p>
<p>Emitted when a new Edition is created.</p>
<pre><code class="language-solidity">event EditionCreated(
    address indexed edition,
    address indexed creator,
    uint256 maxSupply,
    Strategy strategy,
    bytes data
);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="comment"><a class="header" href="#comment">Comment</a></h1>
<p><a href="https://github.com/titlesnyc/wallflower-contract-v2/blob/190d4e66726023743d2d6974c49be143469e59b9/src/shared/Common.sol">Git Source</a></p>
<p>Emitted when a Work is minted with a comment.</p>
<pre><code class="language-solidity">event Comment(
    address indexed edition, uint256 indexed tokenId, address indexed author, string comment
);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="feestrategyupdated"><a class="header" href="#feestrategyupdated">FeeStrategyUpdated</a></h1>
<p><a href="https://github.com/titlesnyc/wallflower-contract-v2/blob/190d4e66726023743d2d6974c49be143469e59b9/src/shared/Common.sol">Git Source</a></p>
<p>Emitted when a fee strategy is updated for an Edition.</p>
<pre><code class="language-solidity">event FeeStrategyUpdated(address indexed edition, uint256 indexed tokenId, Strategy strategy);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="timeframeupdated"><a class="header" href="#timeframeupdated">TimeframeUpdated</a></h1>
<p><a href="https://github.com/titlesnyc/wallflower-contract-v2/blob/190d4e66726023743d2d6974c49be143469e59b9/src/shared/Common.sol">Git Source</a></p>
<p>Emitted when a Work's open and close times are updated.</p>
<pre><code class="language-solidity">event TimeframeUpdated(
    address indexed edition, uint256 indexed tokenId, uint64 opensAt, uint64 closesAt
);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="minted"><a class="header" href="#minted">Minted</a></h1>
<p><a href="https://github.com/titlesnyc/wallflower-contract-v2/blob/190d4e66726023743d2d6974c49be143469e59b9/src/shared/Common.sol">Git Source</a></p>
<p>Emitted when a Work is minted within an Edition.</p>
<pre><code class="language-solidity">event Minted(
    address indexed edition, uint256 indexed tokenId, address indexed to, uint256 amount, bytes data
);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="published"><a class="header" href="#published">Published</a></h1>
<p><a href="https://github.com/titlesnyc/wallflower-contract-v2/blob/190d4e66726023743d2d6974c49be143469e59b9/src/shared/Common.sol">Git Source</a></p>
<p>Emitted when a Work is published within an Edition.</p>
<pre><code class="language-solidity">event Published(address indexed edition, uint256 indexed tokenId);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="worktransferred"><a class="header" href="#worktransferred">WorkTransferred</a></h1>
<p><a href="https://github.com/titlesnyc/wallflower-contract-v2/blob/190d4e66726023743d2d6974c49be143469e59b9/src/shared/Common.sol">Git Source</a></p>
<p>Emitted when a Work's creator transfers control of the Work to another account.</p>
<pre><code class="language-solidity">event WorkTransferred(address indexed edition, uint256 indexed tokenId, address indexed to);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="nodetype"><a class="header" href="#nodetype">NodeType</a></h1>
<p><a href="https://github.com/titlesnyc/wallflower-contract-v2/blob/190d4e66726023743d2d6974c49be143469e59b9/src/shared/Common.sol">Git Source</a></p>
<p>NodeType represents the different types of nodes in the graph.</p>
<p><em>The node types indicate the type of the {Target}. For example, an <code>ACCOUNT</code> node type indicates that the target is a wallet, while an <code>ERC20</code> node type indicates that the target is an ERC20 token contract.</em></p>
<pre><code class="language-solidity">enum NodeType {
    ACCOUNT,
    COLLECTION_ERC721,
    COLLECTION_ERC1155,
    TOKEN_ERC721,
    TOKEN_ERC1155,
    TOKEN_ERC20
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="fee"><a class="header" href="#fee">Fee</a></h1>
<p><a href="https://github.com/titlesnyc/wallflower-contract-v2/blob/190d4e66726023743d2d6974c49be143469e59b9/src/shared/Common.sol">Git Source</a></p>
<p>Fee represents a fee for a given asset.</p>
<pre><code class="language-solidity">struct Fee {
    address asset;
    uint256 amount;
}
</code></pre>
<p><strong>Properties</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>asset</code></td><td><code>address</code></td><td>The address of the asset.</td></tr>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>The total amount of the fee (in wei).</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="edge"><a class="header" href="#edge">Edge</a></h1>
<p><a href="https://github.com/titlesnyc/wallflower-contract-v2/blob/190d4e66726023743d2d6974c49be143469e59b9/src/shared/Common.sol">Git Source</a></p>
<p>Edge represents the connection between two nodes in the graph.</p>
<p><em>The data field is used to store additional information about the edge. The edge's {EdgeManager} is responsible for interpreting this data.</em></p>
<pre><code class="language-solidity">struct Edge {
    Node from;
    Node to;
    bool acknowledged;
    bytes data;
}
</code></pre>
<p><strong>Properties</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>from</code></td><td><code>Node</code></td><td>The source node of the edge.</td></tr>
<tr><td><code>to</code></td><td><code>Node</code></td><td>The target node of the edge.</td></tr>
<tr><td><code>acknowledged</code></td><td><code>bool</code></td><td>Whether the edge has been acknowledged.</td></tr>
<tr><td><code>data</code></td><td><code>bytes</code></td><td>The data associated with the edge.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="node-4"><a class="header" href="#node-4">Node</a></h1>
<p><a href="https://github.com/titlesnyc/wallflower-contract-v2/blob/190d4e66726023743d2d6974c49be143469e59b9/src/shared/Common.sol">Git Source</a></p>
<p>Node represents a node in the graph.</p>
<p><em>The data field is used to store additional information about the node. The node's {EdgeManager} is responsible for interpreting this data.</em></p>
<pre><code class="language-solidity">struct Node {
    NodeType nodeType;
    Target entity;
    Target creator;
    bytes data;
}
</code></pre>
<p><strong>Properties</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>nodeType</code></td><td><code>NodeType</code></td><td>The type of the node.</td></tr>
<tr><td><code>entity</code></td><td><code>Target</code></td><td>The on-chain entity represented by the node.</td></tr>
<tr><td><code>creator</code></td><td><code>Target</code></td><td>The creator of the work represented by the node.</td></tr>
<tr><td><code>data</code></td><td><code>bytes</code></td><td>The data associated with the node.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="metadata-1"><a class="header" href="#metadata-1">Metadata</a></h1>
<p><a href="https://github.com/titlesnyc/wallflower-contract-v2/blob/190d4e66726023743d2d6974c49be143469e59b9/src/shared/Common.sol">Git Source</a></p>
<p>Metadata represents the metadata associated with an arbitrary entity.</p>
<pre><code class="language-solidity">struct Metadata {
    string label;
    string uri;
    bytes data;
}
</code></pre>
<p><strong>Properties</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>label</code></td><td><code>string</code></td><td>The label (or name) of the entity.</td></tr>
<tr><td><code>uri</code></td><td><code>string</code></td><td>The URI associated with the entity.</td></tr>
<tr><td><code>data</code></td><td><code>bytes</code></td><td>Additional data associated with the entity.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="route"><a class="header" href="#route">Route</a></h1>
<p><a href="https://github.com/titlesnyc/wallflower-contract-v2/blob/190d4e66726023743d2d6974c49be143469e59b9/src/shared/Common.sol">Git Source</a></p>
<p>The route for a given (Edition, Token ID).</p>
<pre><code class="language-solidity">struct Route {
    address feeReceiver;
    address revshareReceiver;
}
</code></pre>
<p><strong>Properties</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>feeReceiver</code></td><td><code>address</code></td><td>The address of the fee receiver.</td></tr>
<tr><td><code>revshareReceiver</code></td><td><code>address</code></td><td>The address of the revshare receiver.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="strategy"><a class="header" href="#strategy">Strategy</a></h1>
<p><a href="https://github.com/titlesnyc/wallflower-contract-v2/blob/190d4e66726023743d2d6974c49be143469e59b9/src/shared/Common.sol">Git Source</a></p>
<p>Strategy represents a fee strategy.</p>
<p><em>The royalty revshare is a percentage of the collected mint fee that is paid to attributed creators. It is expressed in basis points (1/100th of a percent). For example, a 100 bps (1%) royalty fee on a 1 ETH mint fee would result in a 0.01 ETH royalty fee.</em></p>
<pre><code class="language-solidity">struct Strategy {
    address asset;
    uint112 mintFee;
    uint16 revshareBps;
    uint16 royaltyBps;
}
</code></pre>
<p><strong>Properties</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>asset</code></td><td><code>address</code></td><td>The address of the asset to be used for fees.</td></tr>
<tr><td><code>mintFee</code></td><td><code>uint112</code></td><td>The fee for minting an asset (in wei).</td></tr>
<tr><td><code>revshareBps</code></td><td><code>uint16</code></td><td>The royalty revshare (in basis points).</td></tr>
<tr><td><code>royaltyBps</code></td><td><code>uint16</code></td><td>The ERC2981 secondary sales royalty fee (in basis points).</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="target"><a class="header" href="#target">Target</a></h1>
<p><a href="https://github.com/titlesnyc/wallflower-contract-v2/blob/190d4e66726023743d2d6974c49be143469e59b9/src/shared/Common.sol">Git Source</a></p>
<p>Target represents a target address on a given chain.</p>
<pre><code class="language-solidity">struct Target {
    uint256 chainId;
    address target;
}
</code></pre>
<p><strong>Properties</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>chainId</code></td><td><code>uint256</code></td><td>The chain ID of the target.</td></tr>
<tr><td><code>target</code></td><td><code>address</code></td><td>The address of the target.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="constants"><a class="header" href="#constants">Constants</a></h1>
<p><a href="https://github.com/titlesnyc/wallflower-contract-v2/blob/190d4e66726023743d2d6974c49be143469e59b9/src/shared/Common.sol">Git Source</a></p>
<h3 id="admin_role"><a class="header" href="#admin_role">ADMIN_ROLE</a></h3>
<pre><code class="language-solidity">uint256 constant ADMIN_ROLE = 1 &lt;&lt; 0;
</code></pre>
<h3 id="controller_role"><a class="header" href="#controller_role">CONTROLLER_ROLE</a></h3>
<pre><code class="language-solidity">uint256 constant CONTROLLER_ROLE = 1 &lt;&lt; 1;
</code></pre>
<h3 id="role_manager_role"><a class="header" href="#role_manager_role">ROLE_MANAGER_ROLE</a></h3>
<pre><code class="language-solidity">uint256 constant ROLE_MANAGER_ROLE = 1 &lt;&lt; 2;
</code></pre>
<h3 id="fee_override_role"><a class="header" href="#fee_override_role">FEE_OVERRIDE_ROLE</a></h3>
<pre><code class="language-solidity">uint256 constant FEE_OVERRIDE_ROLE = 1 &lt;&lt; 3;
</code></pre>
<h3 id="signer_role"><a class="header" href="#signer_role">SIGNER_ROLE</a></h3>
<pre><code class="language-solidity">uint256 constant SIGNER_ROLE = 1 &lt;&lt; 4;
</code></pre>
<h3 id="edition_manager_role"><a class="header" href="#edition_manager_role">EDITION_MANAGER_ROLE</a></h3>
<pre><code class="language-solidity">uint256 constant EDITION_MANAGER_ROLE = 1 &lt;&lt; 11;
</code></pre>
<h3 id="edition_minter_role"><a class="header" href="#edition_minter_role">EDITION_MINTER_ROLE</a></h3>
<pre><code class="language-solidity">uint256 constant EDITION_MINTER_ROLE = 1 &lt;&lt; 12;
</code></pre>
<h3 id="edition_publisher_role"><a class="header" href="#edition_publisher_role">EDITION_PUBLISHER_ROLE</a></h3>
<pre><code class="language-solidity">uint256 constant EDITION_PUBLISHER_ROLE = 1 &lt;&lt; 13;
</code></pre>
<h3 id="graph_manager_role"><a class="header" href="#graph_manager_role">GRAPH_MANAGER_ROLE</a></h3>
<pre><code class="language-solidity">uint256 constant GRAPH_MANAGER_ROLE = 1 &lt;&lt; 21;
</code></pre>
<h3 id="graph_node_creator_role"><a class="header" href="#graph_node_creator_role">GRAPH_NODE_CREATOR_ROLE</a></h3>
<pre><code class="language-solidity">uint256 constant GRAPH_NODE_CREATOR_ROLE = 1 &lt;&lt; 22;
</code></pre>
<h3 id="graph_edge_creator_role"><a class="header" href="#graph_edge_creator_role">GRAPH_EDGE_CREATOR_ROLE</a></h3>
<pre><code class="language-solidity">uint256 constant GRAPH_EDGE_CREATOR_ROLE = 1 &lt;&lt; 23;
</code></pre>
<h3 id="eth_address"><a class="header" href="#eth_address">ETH_ADDRESS</a></h3>
<pre><code class="language-solidity">address constant ETH_ADDRESS = address(0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="titlescore"><a class="header" href="#titlescore">TitlesCore</a></h1>
<p><a href="https://github.com/titlesnyc/wallflower-contract-v2/blob/190d4e66726023743d2d6974c49be143469e59b9/src/TitlesCore.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
OwnableRoles, Initializable, UUPSUpgradeable, Receiver</p>
<p>Core contract for the Titles Protocol</p>
<h2 id="state-variables-3"><a class="header" href="#state-variables-3">State Variables</a></h2>
<h3 id="editionimplementation"><a class="header" href="#editionimplementation">editionImplementation</a></h3>
<pre><code class="language-solidity">address public editionImplementation = address(new Edition());
</code></pre>
<h3 id="feemanager-1"><a class="header" href="#feemanager-1">feeManager</a></h3>
<pre><code class="language-solidity">FeeManager public feeManager;
</code></pre>
<h3 id="graph-1"><a class="header" href="#graph-1">graph</a></h3>
<pre><code class="language-solidity">TitlesGraph public graph;
</code></pre>
<h2 id="functions-6"><a class="header" href="#functions-6">Functions</a></h2>
<h3 id="initialize-1"><a class="header" href="#initialize-1">initialize</a></h3>
<p>Initializes the protocol.</p>
<pre><code class="language-solidity">function initialize(address feeReceiver_, address splitFactory_) external initializer;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>feeReceiver_</code></td><td><code>address</code></td><td>The address to receive fees.</td></tr>
<tr><td><code>splitFactory_</code></td><td><code>address</code></td><td>The address of the split factory.</td></tr>
</tbody></table>
</div>
<h3 id="createedition"><a class="header" href="#createedition">createEdition</a></h3>
<p>Creates an {Edition} with the given payload.</p>
<pre><code class="language-solidity">function createEdition(bytes calldata payload_, address referrer_)
    external
    payable
    returns (Edition edition);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>payload_</code></td><td><code>bytes</code></td><td>The compressed payload for creating the {Edition}. See {EditionPayload}.</td></tr>
<tr><td><code>referrer_</code></td><td><code>address</code></td><td>The address of the referrer.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>edition</code></td><td><code>Edition</code></td><td>The new {Edition}.</td></tr>
</tbody></table>
</div>
<h3 id="publish-2"><a class="header" href="#publish-2">publish</a></h3>
<p>Publishes a new Work in the given {Edition} using the given payload.</p>
<pre><code class="language-solidity">function publish(Edition edition_, bytes calldata payload_, address referrer_)
    external
    payable
    returns (uint256 tokenId);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>edition_</code></td><td><code>Edition</code></td><td>The {Edition} to publish the Work in.</td></tr>
<tr><td><code>payload_</code></td><td><code>bytes</code></td><td>The compressed payload for publishing the Work. See <a href="src/TitlesCore.sol//src/TitlesCore.sol/contract.TitlesCore.html#workpayload">WorkPayload</a>.</td></tr>
<tr><td><code>referrer_</code></td><td><code>address</code></td><td>The address of the referrer.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>tokenId</code></td><td><code>uint256</code></td><td>The token ID of the new Work.</td></tr>
</tbody></table>
</div>
<h3 id="_publish"><a class="header" href="#_publish">_publish</a></h3>
<p>Publishes a new Work in the given {Edition} using the given payload.</p>
<pre><code class="language-solidity">function _publish(Edition edition_, WorkPayload memory work_, address referrer_)
    internal
    returns (uint256 tokenId);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>edition_</code></td><td><code>Edition</code></td><td>The {Edition} to publish the Work in.</td></tr>
<tr><td><code>work_</code></td><td><code>WorkPayload</code></td><td>The payload for publishing the Work. See <a href="src/TitlesCore.sol//src/TitlesCore.sol/contract.TitlesCore.html#editionpayload">EditionPayload</a>.</td></tr>
<tr><td><code>referrer_</code></td><td><code>address</code></td><td>The address of the referrer.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>tokenId</code></td><td><code>uint256</code></td><td>The token ID of the new Work.</td></tr>
</tbody></table>
</div>
<h3 id="seteditionimplementation"><a class="header" href="#seteditionimplementation">setEditionImplementation</a></h3>
<p>Sets the implementation address to be cloned for each new {Edition}.</p>
<p><em>Only the owner can call this function.</em></p>
<pre><code class="language-solidity">function setEditionImplementation(address implementation_) external onlyOwnerOrRoles(ADMIN_ROLE);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>implementation_</code></td><td><code>address</code></td><td>The new implementation address.</td></tr>
</tbody></table>
</div>
<h3 id="_authorizeupgrade-1"><a class="header" href="#_authorizeupgrade-1">_authorizeUpgrade</a></h3>
<p><em>This function is overridden to restrict access to the owner/admin. No other logic required.</em></p>
<pre><code class="language-solidity">function _authorizeUpgrade(address newImplementation)
    internal
    override
    onlyOwnerOrRoles(ADMIN_ROLE);
</code></pre>
<h3 id="_attributiontargets"><a class="header" href="#_attributiontargets">_attributionTargets</a></h3>
<p>Returns the targets of the given attributions.</p>
<pre><code class="language-solidity">function _attributionTargets(Node[] memory attributions_)
    internal
    pure
    returns (Target[] memory targets);
</code></pre>
<h2 id="structs-2"><a class="header" href="#structs-2">Structs</a></h2>
<h3 id="workpayload"><a class="header" href="#workpayload">WorkPayload</a></h3>
<p>The payload for creating a Work within an {Edition}.</p>
<pre><code class="language-solidity">struct WorkPayload {
    Target creator;
    Node[] attributions;
    uint256 maxSupply;
    uint64 opensAt;
    uint64 closesAt;
    Strategy strategy;
    Metadata metadata;
}
</code></pre>
<h3 id="editionpayload"><a class="header" href="#editionpayload">EditionPayload</a></h3>
<p>The payload for creating an {Edition}.</p>
<pre><code class="language-solidity">struct EditionPayload {
    WorkPayload work;
    Metadata metadata;
}
</code></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->
        <script src="solidity.min.js"></script>

        <script>
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>

    </div>
    </body>
</html>
